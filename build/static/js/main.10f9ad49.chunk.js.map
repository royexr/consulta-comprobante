{"version":3,"sources":["components/Header/styles.module.css","components/Header/MenuList/MenuLink/styles.module.css","utils/ExportToExcel.js","components/Header/BurgerMenu/styles.module.css","components/Header/MenuList/styles.module.css","static/images/logoPale.png","config/index.js","sharedcomponents/FormField/styles.module.css","components/User/Login/styles.module.css","components/User/Register/styles.module.css","components/User/CompleteRegister/styles.module.css","components/User/RequestReset/styles.module.css","routes/styles.module.css","contexts/Auth/index.jsx","utils/months.js","components/Dashboard/index.jsx","routes/AuthRoute/index.jsx","hooks/useEntities.jsx","hooks/useMessages.jsx","hooks/useSeriesNumbers.jsx","hooks/useVoucherTypes.jsx","sharedcomponents/FormField/index.jsx","components/Dashboard/Companies/index.jsx","components/Dashboard/Profile/index.jsx","components/Dashboard/Users/index.jsx","utils/validations.js","utils/functions.js","components/Dashboard/Users/Edit/index.jsx","components/NotFound/index.jsx","routes/Configuration/index.jsx","components/Dashboard/Configuration/index.jsx","utils/Objects.js","templates/index.jsx","components/Dashboard/Sales/index.jsx","components/Dashboard/Purchases/index.jsx","components/User/Login/index.jsx","components/User/Register/index.jsx","components/User/CompleteRegister/index.jsx","components/User/RequestReset/index.jsx","components/User/Reset/index.jsx","contexts/Screen/index.jsx","components/Header/BurgerMenu/index.jsx","components/Header/MenuList/MenuLink/index.jsx","components/Header/MenuList/index.jsx","components/Header/index.jsx","routes/CustomRoute/index.jsx","routes/LoginRoute/index.jsx","routes/index.jsx","components/App/index.jsx","contexts/index.jsx","index.jsx","utils/api.js"],"names":["module","exports","exportDetailed","bookCode","companyCode","query","a","api","Voucher","GetDetailedReport","data","date","Date","now","auxBuffer","Buffer","from","arraybuffer","Uint8Array","buffer","blob","Blob","type","fileName","toLocaleString","replace","saveAs","exportResume","GetResumedReport","jwtSecret","process","ftpApi","servicesApi","AuthContext","createContext","children","useState","companies","setCompanies","company","setCompany","sessionStorage","getItem","isAuth","setIsAuth","fetchCompanies","auth","jwt","verify","config","_id","User","GetCompanies","email","formatted","i","r","isEnabled","aux","companiesInfo","filter","d","RUC","number","push","label","RazonSocial","value","length","Company","ReadAll","map","c","useEffect","changeCompany","newCompany","currentCompany","signIn","userInfo","setItem","sign","signOut","Provider","months","Dashboard","labels","setLabels","salesT","setSalesT","purchasesT","setPurchasesT","fetchData","cc","undefined","ReadReport","report","sales","purchases","rLabels","ri","getUTCMonth","getFullYear","lineStylesData","responsive","datasets","fill","borderColor","backgroundColor","className","AuthRoute","exact","path","render","useContext","to","useEntities","entities","setEntities","fetchEntities","bc","GetEntities","entity","docNumber","name","useMessages","Messages","messages","setMessages","severity","summary","detail","show","ref","el","useSeriesNumbers","seriesNumbers","setSeriesNumbers","fetchSeriesNumbers","GetSeriesNumbers","sn","serie","useVoucherTypes","voucherTypes","setVoucherTypes","fetchVoucherTypes","VoucherTypes","GetAll","vt","Cod_TipoComprobante","Nom_TipoComprobante","FormField","buttonCN","disabled","errors","errorMessage","filterBy","handleBlur","handleChange","handleClick","icon","keyfilter","mask","maxLength","options","suggestions","tooltip","filteredSuggs","setFilteredSuggs","suggestBrands","event","results","brand","toLowerCase","includes","classNames","htmlFor","placeholder","onChange","onBlur","completeMethod","aria-label","id","autoComplete","onClick","tooltipOptions","position","filterPlaceholder","rows","selector","styles","text","defaultProps","Companies","showDialog","setShowDialog","showMessages","renderMessages","onSubmit","values","actions","businessNumber","AddCompany","res","TypeError","code","setTimeout","setSubmitting","useFormik","initialValues","validate","vals","handleSubmit","isSubmitting","touched","alwaysShowPaginator","columnResizeMode","rowClassName","rowsPerPageOptions","paginator","removableSort","sortMode","field","header","body","rowData","href","Web","rel","target","blockScroll","modal","visible","onHide","strokeWidth","style","width","height","Profile","history","useHistory","profileData","setProfileData","fetchProfile","GetById","updateProfile","userRes","confirmPassword","password","CryptoJS","AES","encrypt","toString","UpdateUser","goBack","cellphone","enableReinitialize","startsWith","Users","useRouteMatch","users","setUsers","isDeleting","setDeleting","fetchUsers","u","deleteUser","Delete","fontSize","marginRight","isValidEmail","string","test","currentMonthRange","today","firstDay","getMonth","lastDay","createGetQuery","vKeys","Object","keys","key","auxArray","split","concat","Edit","userId","useParams","user","setUser","createUser","obj","Create","updateUser","fetchUser","h","legend","arrayHelpers","idx","indexOf","checked","remove","NotFound","ConfigurationRoutes","component","Configuration","url","items","command","model","voucherCodes","FE","BE","NCE","NDE","GRE","actionTemplate","globalLoading","downloadPDF","downloadXML","downloadCDR","currencyTemplate","Cod_Moneda","dateTemplate","FechaEmision","toLocaleDateString","dtFooterVouchers","totalF","totalB","totalNC","totalND","quantity","marginLeft","stateTemplate","Cod_EstadoComprobante","Sales","setGlobalLoading","fd","ld","setQuery","setQuantity","setTotalF","setTotalB","setTotalNC","setTotalND","vouchers","setVouchers","q","ReadMany","vouchersR","sumF","sumB","sumNC","sumND","e","Total","TipoCambio","Math","round","showPdfDialog","setShowPdfDialog","pdfSource","setPdfSource","then","voucher","ruc","fullDate","year","month","getDate","formatDate","formatData","Serie","Numero","urln","codificado","btoa","window","location","voucherType","clientDoc","startDate","toISOString","slice","endDate","getTime","footer","multiSortMeta","order","sortable","textAlign","Purchases","isShowingPDF","setShowingPDF","Login","SignIn","credentials","loginR","resCode","jumbotron","pointerEvents","preventDefault","Register","register","UserCode","CompleteRegister","useLocation","urlParams","URLSearchParams","search","isVerified","setIsVerified","verifyBN","ReadById","completeSignUp","get","CreateWithCode","RequestResetPassword","RequestReset","formik","fieldsValidation","ResetPassword","showMessage","Reset","ScreenContext","innerWidth","isMS","setIsMS","onresize","BurgerMenu","isCollapsed","collapseMenu","onKeyPress","role","tabIndex","MenuLink","activeClassName","MenuList","header__menu","display","removeItem","Header","setIsCollapsed","navbar__brand","navbar__logo","src","logoPale","alt","padding","fullScreen","showCloseIcon","CustomRoute","LoginRoute","Routes","container","App","Auth","Screen","ReactDOM","document","getElementById","require","BASE_URL","callApi","endpoint","opts","headers","Accept","mode","cache","fetch","json","response","catch","error","rt","method","object","JSON","stringify","VerifyEmail","userCode"],"mappings":"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","file":"static/js/main.10f9ad49.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"styles_header__1Xhk5\",\"navbar__brand\":\"styles_navbar__brand__t6X5w\",\"navbar__logo\":\"styles_navbar__logo__BsQQp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav-item\":\"styles_nav-item__4Ovnv\",\"ancor-link\":\"styles_ancor-link__1sQMh\",\"ancor-link--active\":\"styles_ancor-link--active__3GsLY\"};","// Dependencies\r\nimport { saveAs } from 'file-saver';\r\nimport api from './api';\r\n\r\nasync function exportDetailed(bookCode, companyCode, query) {\r\n  const { data } = await api.Voucher.GetDetailedReport(query);\r\n  const date = new Date(Date.now());\r\n  const auxBuffer = Buffer.from(data);\r\n  const arraybuffer = Uint8Array.from(auxBuffer).buffer;\r\n  const blob = new Blob([arraybuffer], {\r\n    type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n  });\r\n  let fileName = `${companyCode}-Detallado`;\r\n  switch (bookCode) {\r\n    case '14':\r\n      fileName += '-Ventas-';\r\n      break;\r\n    default:\r\n      fileName += '-Compras-';\r\n      break;\r\n  }\r\n  fileName += `-${date.toLocaleString().replace(/,/gi, '').replace(/:|\\//gi, '-').replace(/\\s/gi, '_')}.xlsx`;\r\n  saveAs(blob, fileName);\r\n}\r\n\r\nasync function exportResume(bookCode, companyCode, query) {\r\n  const { data } = await api.Voucher.GetResumedReport(query);\r\n  const date = new Date(Date.now());\r\n  const auxBuffer = Buffer.from(data);\r\n  const arraybuffer = Uint8Array.from(auxBuffer).buffer;\r\n  const blob = new Blob([arraybuffer], {\r\n    type: 'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n  });\r\n  let fileName = `${companyCode}-Resumen`;\r\n  switch (bookCode) {\r\n    case '14':\r\n      fileName += '-Ventas-';\r\n      break;\r\n    default:\r\n      fileName += '-Compras-';\r\n      break;\r\n  }\r\n  fileName += `-${date.toLocaleString().replace(/,/gi, '').replace(/:|\\//gi, '-').replace(/\\s/gi, '_')}.xlsx`;\r\n  saveAs(blob, fileName);\r\n}\r\n\r\nexport { exportDetailed, exportResume };\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"burger-menu\":\"styles_burger-menu__3VETX\",\"burger-menu--open\":\"styles_burger-menu--open__3U9-e\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header__menu\":\"styles_header__menu__1izk_\",\"menu-list\":\"styles_menu-list__37oWt\",\"active\":\"styles_active__2MZSG\"};","module.exports = __webpack_public_path__ + \"static/media/logoPale.3f879654.png\";","const config = {\r\n  jwtSecret: process.env.REACT_APP_JWT_SECRET,\r\n  ftpApi: process.env.REACT_APP_FTP_API,\r\n  servicesApi: process.env.REACT_APP_SERVICES_API,\r\n};\r\n\r\nmodule.exports = config;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error-hr\":\"styles_error-hr__2CKfa\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jumbotron\":\"styles_jumbotron__1ygIW\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jumbotron\":\"styles_jumbotron__3DmMY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jumbotron\":\"styles_jumbotron__3YlKx\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"jumbotron\":\"styles_jumbotron__6scSD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"styles_container__1XSB4\"};","// Dependencies\r\nimport React, { createContext, useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n// Resources\r\nimport api from '../../utils/api';\r\nimport config from '../../config';\r\n\r\nexport const AuthContext = createContext();\r\n\r\nconst Provider = ({ children }) => {\r\n  const [companies, setCompanies] = useState([]);\r\n  const [company, setCompany] = useState('');\r\n  const [isAuth, setIsAuth] = useState(() => sessionStorage.getItem('userJWT') !== null);\r\n\r\n  const fetchCompanies = async (auth) => {\r\n    if (auth) {\r\n      try {\r\n        const { _id, type } = jwt.verify(sessionStorage.getItem('userJWT'), config.jwtSecret);\r\n        switch (type) {\r\n          case 1: {\r\n            const { data } = await api.User.GetCompanies(_id.email);\r\n            const formatted = [];\r\n            for (let i = 0; i < data[0].companies.length; i += 1) {\r\n              const r = data[0].companies[i];\r\n              if (r.isEnabled) {\r\n                const aux = data[0].companiesInfo.filter((d) => d.RUC === r.number);\r\n                formatted.push({\r\n                  label: `${aux[0].RUC} ${aux[0].RazonSocial}`,\r\n                  value: aux[0].RUC,\r\n                });\r\n              }\r\n            }\r\n            setCompanies(formatted);\r\n            setCompany(formatted[0].value);\r\n            break;\r\n          }\r\n          case 2:\r\n          case 3: {\r\n            const { data } = await api.Company.ReadAll();\r\n            const formatted = data.map((c) => ({\r\n              label: `${c.RUC} ${c.RazonSocial}`,\r\n              value: c.RUC,\r\n            }));\r\n            setCompanies(formatted);\r\n            setCompany(formatted[0].value);\r\n            break;\r\n          }\r\n          default:\r\n            setCompanies([]);\r\n            setCompany('');\r\n            break;\r\n        }\r\n      } catch (error) {\r\n        setCompanies([]);\r\n        setCompany('');\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCompanies(isAuth);\r\n  }, [isAuth]);\r\n\r\n  const value = {\r\n    changeCompany: (newCompany) => {\r\n      setCompany(newCompany);\r\n    },\r\n    companies,\r\n    currentCompany: company,\r\n    isAuth,\r\n    signIn: (userInfo) => {\r\n      sessionStorage.setItem('userJWT', jwt.sign(userInfo, config.jwtSecret));\r\n      setIsAuth(true);\r\n    },\r\n    signOut: () => {\r\n      setIsAuth(false);\r\n    },\r\n  };\r\n\r\n  return (\r\n    <AuthContext.Provider value={value}>\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nProvider.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.element),\r\n    PropTypes.element,\r\n  ]).isRequired,\r\n};\r\n\r\nexport default {\r\n  Provider,\r\n};\r\n","const months = [\r\n  'Enero',\r\n  'Febrero',\r\n  'Marzo',\r\n  'Abril',\r\n  'Mayo',\r\n  'Junio',\r\n  'Julio',\r\n  'Agosto',\r\n  'Septiembre',\r\n  'Octubre',\r\n  'Noviembre',\r\n  'Diciembre',\r\n];\r\n\r\nexport default months;\r\n","// Dependencies\r\nimport React, { useEffect, useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport { Chart } from 'primereact/chart';\r\nimport api from '../../utils/api';\r\nimport months from '../../utils/months';\r\n\r\nconst Dashboard = ({ currentCompany }) => {\r\n  const [labels, setLabels] = useState([]);\r\n  const [salesT, setSalesT] = useState([]);\r\n  const [purchasesT, setPurchasesT] = useState([]);\r\n\r\n  const fetchData = async (cc) => {\r\n    if (cc !== undefined && cc.length > 0) {\r\n      const report = (await api.Voucher.ReadReport(cc)).data;\r\n      const sales = []; const purchases = []; const rLabels = [];\r\n      for (let i = 0; i < 12; i += 1) {\r\n        const aux = report.filter((ri) => new Date(ri.date).getUTCMonth() === i);\r\n        if (aux.length === 1) {\r\n          sales.push(aux[0].sales);\r\n          purchases.push(aux[0].purchases);\r\n        } else {\r\n          sales.push(0);\r\n          purchases.push(0);\r\n        }\r\n        rLabels.push(`${months[i]} - ${new Date(Date.now()).getFullYear()}`);\r\n      }\r\n      setLabels(rLabels);\r\n      setSalesT(sales);\r\n      setPurchasesT(purchases);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchData(currentCompany);\r\n  }, [currentCompany]);\r\n\r\n  const lineStylesData = {\r\n    responsive: true,\r\n    labels,\r\n    datasets: [\r\n      {\r\n        label: 'Compras',\r\n        data: purchasesT,\r\n        fill: false,\r\n        borderColor: '#FF0000',\r\n        backgroundColor: 'rgba(255, 153, 153, 0.5)',\r\n      },\r\n      {\r\n        label: 'Ventas',\r\n        data: salesT,\r\n        fill: false,\r\n        borderColor: '#0000ff',\r\n        backgroundColor: 'rgba(153, 153, 255, 0.5)',\r\n      },\r\n    ],\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"jumbotron p-col-12\">\r\n        <div className=\"p-grid p-dir-col\">\r\n          <hgroup className=\"heading p-col-12 p-col-align-center\">\r\n            <h1 className=\"title text--center\">Escritorio</h1>\r\n          </hgroup>\r\n          <div className=\"chart p-col-12 p-lg-10 p-col-align-center\">\r\n            <Chart type=\"line\" data={lineStylesData} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nDashboard.propTypes = {\r\n  currentCompany: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Dashboard;\r\n","// Dependencies\r\nimport React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport { AuthContext } from '../../contexts/Auth';\r\n\r\nconst AuthRoute = ({ exact, path, render }) => {\r\n  const { isAuth } = useContext(AuthContext);\r\n\r\n  if (isAuth) {\r\n    return <Route exact={exact} path={path} render={render} />;\r\n  }\r\n  return <Redirect to=\"/\" />;\r\n};\r\n\r\nAuthRoute.propTypes = {\r\n  exact: PropTypes.bool.isRequired,\r\n  path: PropTypes.string.isRequired,\r\n  render: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default AuthRoute;\r\n","// Dependencies\r\nimport { useState, useEffect } from 'react';\r\n\r\n// Resources\r\nimport api from '../utils/api';\r\n\r\nconst useEntities = (currentCompany, bookCode) => {\r\n  const [entities, setEntities] = useState([]);\r\n\r\n  const fetchEntities = async (cc, bc) => {\r\n    if (cc !== undefined && cc.length > 0) {\r\n      const { data } = await api.Voucher.GetEntities(cc, bc);\r\n      const formatted = data.entities.map((entity) => ({\r\n        value: entity.docNumber,\r\n        label: `${entity.docNumber}-${entity.name}`,\r\n      }));\r\n      setEntities(formatted);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchEntities(currentCompany, bookCode);\r\n  }, [currentCompany, bookCode]);\r\n\r\n  return { entities };\r\n};\r\n\r\nexport default useEntities;\r\n","// Dependencies\r\nimport React, { useState } from 'react';\r\n\r\n// Resources\r\nimport { Messages } from 'primereact/messages';\r\n\r\nconst useMessages = () => {\r\n  const [messages, setMessages] = useState(new Messages());\r\n\r\n  const showMessages = (severity, summary, detail) => {\r\n    messages.show({ severity, summary, detail });\r\n  };\r\n\r\n  const renderMessages = () => <Messages ref={(el) => { setMessages(el); }} />;\r\n\r\n  return [showMessages, renderMessages];\r\n};\r\n\r\nexport default useMessages;\r\n","// Dependencies\r\nimport { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\n\r\nconst useSeriesNumbers = (currentCompany, bookCode) => {\r\n  const [seriesNumbers, setSeriesNumbers] = useState([]);\r\n\r\n  const fetchSeriesNumbers = async (cc, bc) => {\r\n    if (cc !== undefined && cc.length > 0) {\r\n      const { data } = await api.Voucher.GetSeriesNumbers(cc, bc);\r\n      const formatted = data.seriesNumbers.map((sn) => ({\r\n        value: `${sn.serie}-${sn.number}`,\r\n        label: `${sn.serie}-${sn.number}`,\r\n      }));\r\n      setSeriesNumbers(formatted);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchSeriesNumbers(currentCompany, bookCode);\r\n  }, [currentCompany, bookCode]);\r\n\r\n  return { seriesNumbers };\r\n};\r\n\r\nexport default useSeriesNumbers;\r\n","// Dependencies\r\nimport { useState, useEffect } from 'react';\r\nimport api from '../utils/api';\r\n\r\nconst useVoucherTypes = () => {\r\n  const [voucherTypes, setVoucherTypes] = useState([]);\r\n\r\n  const fetchVoucherTypes = async () => {\r\n    const { data } = await api.VoucherTypes.GetAll();\r\n    const formatted = data.map((vt) => ({\r\n      value: vt.Cod_TipoComprobante,\r\n      label: vt.Nom_TipoComprobante,\r\n    }));\r\n    setVoucherTypes(formatted);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchVoucherTypes();\r\n  }, []);\r\n\r\n  return { voucherTypes };\r\n};\r\n\r\nexport default useVoucherTypes;\r\n","// Dependencies\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\n// Resources\r\nimport { AutoComplete } from 'primereact/autocomplete';\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { InputMask } from 'primereact/inputmask';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { InputTextarea } from 'primereact/inputtextarea';\r\nimport { Message } from 'primereact/message';\r\nimport styles from './styles.module.css';\r\n\r\nconst FormField = ({\r\n  buttonCN,\r\n  className,\r\n  disabled,\r\n  errors,\r\n  errorMessage,\r\n  filter,\r\n  filterBy,\r\n  handleBlur,\r\n  handleChange,\r\n  handleClick,\r\n  icon,\r\n  keyfilter,\r\n  label,\r\n  mask,\r\n  maxLength,\r\n  name,\r\n  options,\r\n  suggestions,\r\n  tooltip,\r\n  type,\r\n  value,\r\n}) => {\r\n  const [filteredSuggs, setFilteredSuggs] = useState([]);\r\n\r\n  const suggestBrands = async (event) => {\r\n    const results = suggestions.filter((brand) => brand.toLowerCase()\r\n      .includes(event.query.toLowerCase()));\r\n\r\n    setFilteredSuggs(results);\r\n  };\r\n\r\n  function selector() {\r\n    switch (type) {\r\n      case 'autoComplete':\r\n        return (\r\n          <>\r\n            <label htmlFor={name}>\r\n              <p\r\n                className={classNames(\r\n                  'form__field-label',\r\n                  {\r\n                    'label--error': errors,\r\n                  },\r\n                )}\r\n              >\r\n                {label}\r\n              </p>\r\n              <span>\r\n                <AutoComplete\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  disabled={disabled}\r\n                  placeholder={label}\r\n                  name={name}\r\n                  value={value}\r\n                  onChange={handleChange}\r\n                  onBlur={handleBlur}\r\n                  suggestions={filteredSuggs}\r\n                  completeMethod={suggestBrands}\r\n                />\r\n              </span>\r\n            </label>\r\n          </>\r\n        );\r\n      case 'date':\r\n        return (\r\n          <>\r\n            <label htmlFor={name}>\r\n              <p\r\n                className={classNames(\r\n                  'form__field-label',\r\n                  {\r\n                    'label--error': errors,\r\n                  },\r\n                )}\r\n              >\r\n                {label}\r\n              </p>\r\n              <span>\r\n                <InputText\r\n                  aria-label={label}\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  disabled={disabled}\r\n                  id={name}\r\n                  name={name}\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  type={type}\r\n                  value={value}\r\n                />\r\n              </span>\r\n            </label>\r\n          </>\r\n        );\r\n      case 'input-group':\r\n        return (\r\n          <span>\r\n            <label htmlFor={name}>\r\n              <p\r\n                className={classNames(\r\n                  'form__field-label',\r\n                  {\r\n                    'label--error': errors,\r\n                  },\r\n                )}\r\n              >\r\n                {label}\r\n              </p>\r\n              <div className=\"p-inputgroup\">\r\n                <InputText\r\n                  autoComplete=\"off\"\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  disabled={handleChange === null ? true : disabled}\r\n                  id={name}\r\n                  keyfilter={keyfilter && keyfilter}\r\n                  maxLength={maxLength}\r\n                  name={name}\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  placeholder={`Ingrese ${label}`}\r\n                  type={type}\r\n                  value={value}\r\n                />\r\n                <Button\r\n                  icon={`pi ${icon}`}\r\n                  className={buttonCN}\r\n                  onClick={handleClick}\r\n                  tooltip={tooltip}\r\n                  tooltipOptions={{ position: 'top' }}\r\n                  type=\"button\"\r\n                />\r\n              </div>\r\n            </label>\r\n          </span>\r\n        );\r\n      case 'mask':\r\n        return (\r\n          <>\r\n            <span>\r\n              <label htmlFor={name}>\r\n                <p\r\n                  className={classNames(\r\n                    'form__field-label',\r\n                    {\r\n                      'label--error': errors,\r\n                    },\r\n                  )}\r\n                >\r\n                  {label}\r\n                </p>\r\n                <InputMask\r\n                  autoComplete=\"off\"\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  disabled={disabled}\r\n                  id={name}\r\n                  mask={mask}\r\n                  name={name}\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  placeholder={`Ingrese ${label}`}\r\n                  type={type}\r\n                  value={value}\r\n                />\r\n              </label>\r\n            </span>\r\n          </>\r\n        );\r\n      case 'select':\r\n        return (\r\n          <>\r\n            <span>\r\n              <label htmlFor={name}>\r\n                <p\r\n                  className={classNames(\r\n                    'form__field-label',\r\n                    {\r\n                      'label--error': errors,\r\n                    },\r\n                  )}\r\n                >\r\n                  {label}\r\n                </p>\r\n                <Dropdown\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  disabled={disabled}\r\n                  filter={filter}\r\n                  filterBy={filterBy}\r\n                  filterPlaceholder={label}\r\n                  id={name}\r\n                  name={name}\r\n                  value={value}\r\n                  options={options}\r\n                  onChange={handleChange}\r\n                  placeholder={label}\r\n                />\r\n              </label>\r\n            </span>\r\n          </>\r\n        );\r\n      case 'textarea':\r\n        return (\r\n          <>\r\n            <span>\r\n              <label htmlFor={name}>\r\n                <p\r\n                  className={classNames(\r\n                    'form__field-label',\r\n                    {\r\n                      'label--error': errors,\r\n                    },\r\n                  )}\r\n                >\r\n                  {label}\r\n                </p>\r\n                <InputTextarea\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  name={name}\r\n                  onChange={handleChange}\r\n                  placeholder={`Ingrese ${label}`}\r\n                  rows={3}\r\n                  value={value}\r\n                />\r\n              </label>\r\n            </span>\r\n          </>\r\n        );\r\n      default:\r\n        return (\r\n          <>\r\n            <span>\r\n              <label htmlFor={name}>\r\n                <p\r\n                  className={classNames(\r\n                    'form__field-label',\r\n                    {\r\n                      'label--error': errors,\r\n                    },\r\n                  )}\r\n                >\r\n                  {label}\r\n                </p>\r\n                <InputText\r\n                  autoComplete=\"off\"\r\n                  className={classNames(\r\n                    'form__field',\r\n                    {\r\n                      'p-error': errors,\r\n                    },\r\n                  )}\r\n                  disabled={handleChange === null ? true : disabled}\r\n                  id={name}\r\n                  keyfilter={keyfilter && keyfilter}\r\n                  maxLength={maxLength && maxLength}\r\n                  name={name}\r\n                  onBlur={handleBlur}\r\n                  onChange={handleChange}\r\n                  placeholder={`Ingrese ${label}`}\r\n                  type={type}\r\n                  value={value}\r\n                />\r\n              </label>\r\n            </span>\r\n          </>\r\n        );\r\n    }\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={classNames(\r\n          { [className]: className },\r\n        )}\r\n      >\r\n        {selector()}\r\n        {\r\n          errors && (\r\n            <>\r\n              <hr className={styles['error-hr']} />\r\n              <Message\r\n                className=\"form__field\"\r\n                severity=\"error\"\r\n                text={errorMessage}\r\n              />\r\n            </>\r\n          )\r\n        }\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nFormField.defaultProps = {\r\n  buttonCN: '',\r\n  className: '',\r\n  disabled: false,\r\n  errors: false,\r\n  errorMessage: '',\r\n  filter: false,\r\n  filterBy: '',\r\n  handleBlur: null,\r\n  handleChange: null,\r\n  handleClick: null,\r\n  icon: '',\r\n  keyfilter: '',\r\n  label: 'input',\r\n  mask: '',\r\n  maxLength: '',\r\n  name: 'input',\r\n  options: [],\r\n  suggestions: [],\r\n  type: 'input',\r\n  tooltip: '',\r\n  value: '',\r\n};\r\n\r\nFormField.propTypes = {\r\n  buttonCN: PropTypes.string,\r\n  className: PropTypes.string,\r\n  disabled: PropTypes.bool,\r\n  errors: PropTypes.bool,\r\n  errorMessage: PropTypes.string,\r\n  filter: PropTypes.bool,\r\n  filterBy: PropTypes.string,\r\n  handleBlur: PropTypes.func,\r\n  handleChange: PropTypes.func,\r\n  handleClick: PropTypes.func,\r\n  icon: PropTypes.string,\r\n  keyfilter: PropTypes.string,\r\n  label: PropTypes.string,\r\n  mask: PropTypes.string,\r\n  maxLength: PropTypes.string,\r\n  name: PropTypes.string,\r\n  options: PropTypes.arrayOf(PropTypes.objectOf),\r\n  suggestions: PropTypes.arrayOf(PropTypes.string),\r\n  type: PropTypes.string,\r\n  tooltip: PropTypes.string,\r\n  value: PropTypes.oneOfType([\r\n    PropTypes.string,\r\n    PropTypes.number,\r\n  ]),\r\n};\r\n\r\nexport default FormField;\r\n","// Resources\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useFormik } from 'formik';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { useMessages } from '../../../hooks';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport api from '../../../utils/api';\r\nimport config from '../../../config';\r\n\r\nconst Companies = () => {\r\n  const [companies, setCompanies] = useState([]);\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const fetchCompanies = async () => {\r\n    const { _id } = jwt.verify(\r\n      sessionStorage.getItem('userJWT'),\r\n      config.jwtSecret,\r\n    );\r\n    const { data } = await api.User.GetCompanies(_id.email);\r\n    const formatted = [];\r\n    if (data[0].companies !== undefined) {\r\n      for (let i = 0; i < data[0].companies.length; i += 1) {\r\n        const r = data[0].companies[i];\r\n        const aux = data[0].companiesInfo.filter((d) => d.RUC === r.number);\r\n        aux[0].isEnabled = r.isEnabled;\r\n        formatted.push(aux[0]);\r\n      }\r\n      setCompanies(formatted);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchCompanies();\r\n  }, []);\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.businessNumber) {\r\n      errors.businessNumber = 'Campo obligatorio';\r\n    } else if (!(values.businessNumber.length === 11)) {\r\n      errors.businessNumber = 'RUC invalido';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (values, actions) => {\r\n    const registered = companies.filter((c) => values.businessNumber === c.RUC);\r\n    if (registered.length === 0) {\r\n      const { _id } = jwt.verify(\r\n        sessionStorage.getItem('userJWT'),\r\n        config.jwtSecret,\r\n      );\r\n      const res = await api.User.AddCompany({\r\n        businessNumber: values.businessNumber,\r\n        email: _id.email,\r\n      });\r\n      if (res instanceof TypeError) {\r\n        showMessages('error', 'Error!', 'No hay conexion');\r\n      } else {\r\n        switch (res.code) {\r\n          case '01':\r\n            showMessages('success', 'Muy bien!', 'Habilitaremos el acceso a la empresa despues de verificar tus datos');\r\n            companies.push(res.data);\r\n            setCompanies(companies);\r\n            setTimeout(() => {\r\n              setShowDialog(false);\r\n              actions.setSubmitting(false);\r\n            }, 3000);\r\n            break;\r\n          case '02':\r\n            showMessages('error', 'Error!', 'No se pude conpletar la solicitud');\r\n            actions.setSubmitting(false);\r\n            break;\r\n          default:\r\n            showMessages('error', 'Error!', 'La Empresa no esta registrada en Pale');\r\n            actions.setSubmitting(false);\r\n            break;\r\n        }\r\n      }\r\n    } else {\r\n      showMessages('warn', 'Alerta!', 'La empresa ya esta registrada');\r\n      actions.setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const requestNewCompany = () => {\r\n    setShowDialog(true);\r\n  };\r\n\r\n  const {\r\n    errors,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n    touched,\r\n    values,\r\n  } = useFormik({\r\n    initialValues: { businessNumber: '' },\r\n    validate,\r\n    onSubmit: (vals, actions) => { onSubmit(vals, actions); },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <Button\r\n        icon=\"pi pi-plus\"\r\n        label=\"Solicitar nueva empresa\"\r\n        onClick={requestNewCompany}\r\n      />\r\n      {\r\n        companies.length > 0 && (\r\n          <>\r\n            <DataTable\r\n              alwaysShowPaginator={false}\r\n              className=\"p-col-12\"\r\n              columnResizeMode=\"fit\"\r\n              rows={5}\r\n              rowClassName={() => ({ 'table-row': true })}\r\n              rowsPerPageOptions={[5, 10, 15]}\r\n              paginator\r\n              responsive\r\n              removableSort\r\n              sortMode=\"multiple\"\r\n              value={companies}\r\n            >\r\n              <Column field=\"RUC\" header=\"RUC\" />\r\n              <Column field=\"Nom_Comercial\" header=\"Nombre comercial\" />\r\n              <Column field=\"RazonSocial\" header=\"Razón social\" />\r\n              <Column field=\"Cod_Ubigeo\" header=\"Ubigeo\" />\r\n              <Column\r\n                body={(rowData) => (\r\n                  <a\r\n                    href={`http://${rowData.Web}`}\r\n                    rel=\"noopener noreferrer\"\r\n                    target=\"_blank\"\r\n                  >\r\n                    {rowData.Web}\r\n                  </a>\r\n                )}\r\n                header=\"Página web\"\r\n              />\r\n              <Column\r\n                body={(rowData) => (rowData.isEnabled ? 'SI' : 'NO')}\r\n                header=\"Habilitado\"\r\n              />\r\n            </DataTable>\r\n          </>\r\n        )\r\n      }\r\n      <Dialog\r\n        blockScroll\r\n        className=\"p-col-11 p-sm-9 p-md-7 p-lg-5 p-xl-4\"\r\n        header=\"Solicitar nueva empresa\"\r\n        modal\r\n        visible={showDialog}\r\n        onHide={() => setShowDialog(false)}\r\n      >\r\n        <form\r\n          className=\"form p-grid p-dir-col\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <div className=\"p-col-10 p-col-align-center\">\r\n            {renderMessages()}\r\n          </div>\r\n          <FormField\r\n            className=\"p-col-10 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.businessNumber && touched.businessNumber}\r\n            errorMessage={errors.businessNumber}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            keyfilter=\"pint\"\r\n            label=\"RUC\"\r\n            maxLength=\"11\"\r\n            name=\"businessNumber\"\r\n            type=\"text\"\r\n            value={values.businessNumber}\r\n          />\r\n          <div className=\"p-col-10 p-md-5 p-md-4 p-col-align-center\">\r\n            <Button\r\n              className=\"p-button-rounded p-button-primary button\"\r\n              label=\"Solicitar\"\r\n              disabled={isSubmitting}\r\n              type=\"submit\"\r\n            />\r\n          </div>\r\n          {\r\n            isSubmitting && (\r\n              <div className=\"mb-15 p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n        </form>\r\n      </Dialog>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Companies;\r\n","// Dependencies\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\nimport CryptoJS from 'crypto-js';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport config from '../../../config';\r\nimport api from '../../../utils/api';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport { useMessages } from '../../../hooks';\r\n\r\nconst Profile = () => {\r\n  const history = useHistory();\r\n  const [showMessages, renderMessages] = useMessages();\r\n  const [profileData, setProfileData] = useState({});\r\n\r\n  const fetchProfile = async () => {\r\n    const { _id } = jwt.verify(\r\n      sessionStorage.getItem('userJWT'),\r\n      config.jwtSecret,\r\n    );\r\n    const { data } = await api.User.GetById(_id.email);\r\n    setProfileData(data);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchProfile();\r\n  }, []);\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.name) {\r\n      errors.name = 'Campo obligatorio';\r\n    }\r\n    if (!values.docNumber) {\r\n      errors.docNumber = 'Campo obligatorio';\r\n    } else if (!(values.docNumber.length === 8)) {\r\n      errors.docNumber = 'Número de documento invalido';\r\n    }\r\n    if (!values.cellphone) {\r\n      errors.cellphone = 'Campo obligatorio';\r\n    } else if (!values.cellphone.startsWith('9') || !(values.cellphone.length === 9)) {\r\n      errors.cellphone = 'Numero de celular invalido';\r\n    }\r\n    if (!values.password) {\r\n      errors.password = 'Campo obligatorio';\r\n    }\r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Campo obligatorio';\r\n    } else if (values.password !== values.confirmPassword) {\r\n      errors.confirmPassword = 'Las contraseñas no son iguales';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const updateProfile = async (values, actions) => {\r\n    const userInfo = { ...values };\r\n    const userRes = await api.User.GetById(values.email);\r\n    if (userRes instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n      actions.setSubmitting(false);\r\n    } else if (userRes.code === '01') {\r\n      delete userInfo.confirmPassword;\r\n      if (userInfo.password !== '') {\r\n        userInfo.password = CryptoJS.AES.encrypt(\r\n          userInfo.password,\r\n          userInfo.email,\r\n        ).toString();\r\n      } else {\r\n        delete userInfo.password;\r\n      }\r\n      const { code } = await api.User.UpdateUser(userInfo);\r\n      switch (code) {\r\n        case '01':\r\n          showMessages('success', 'Muy bien!', 'Se actualizaron los datos');\r\n          history.goBack();\r\n          actions.setSubmitting(false);\r\n          break;\r\n        default:\r\n          showMessages('error', 'Error!', 'Algo ah salido mal');\r\n          actions.setSubmitting(false);\r\n          break;\r\n      }\r\n    } else {\r\n      showMessages('error', 'Error!', 'El usuario no existe');\r\n      actions.setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const {\r\n    _id,\r\n    name,\r\n    docNumber,\r\n    cellphone,\r\n  } = profileData;\r\n\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  } = useFormik({\r\n    enableReinitialize: true,\r\n    initialValues: {\r\n      email: _id !== undefined ? _id.email : '',\r\n      name,\r\n      docNumber,\r\n      cellphone,\r\n      password: '',\r\n      confirmPassword: '',\r\n    },\r\n    validate,\r\n    onSubmit: (vals, actions) => { updateProfile(vals, actions); },\r\n  });\r\n\r\n  return (\r\n    <form\r\n      className=\"form p-grid p-dir-col\"\r\n      onSubmit={handleSubmit}\r\n    >\r\n      <hgroup className=\"heading p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\">\r\n        <h1 className=\"title\">Perfil</h1>\r\n      </hgroup>\r\n      <div className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\">\r\n        {renderMessages()}\r\n      </div>\r\n      <FormField\r\n        className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\"\r\n        label=\"Correo electronico\"\r\n        name=\"email\"\r\n        type=\"email\"\r\n        value={values.email}\r\n      />\r\n      <FormField\r\n        className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\"\r\n        disabled={isSubmitting}\r\n        errors={errors.name && touched.name}\r\n        errorMessage={errors.name && touched.name}\r\n        handleBlur={handleBlur}\r\n        handleChange={handleChange}\r\n        label=\"Nombre completo\"\r\n        name=\"name\"\r\n        type=\"text\"\r\n        value={values.name}\r\n      />\r\n      <FormField\r\n        className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\"\r\n        disabled={isSubmitting}\r\n        errors={errors.docNumber && touched.docNumber}\r\n        errorMessage={errors.docNumber}\r\n        handleBlur={handleBlur}\r\n        handleChange={handleChange}\r\n        keyfilter=\"pint\"\r\n        label=\"DNI\"\r\n        maxLength=\"8\"\r\n        name=\"docNumber\"\r\n        type=\"text\"\r\n        value={values.docNumber}\r\n      />\r\n      <FormField\r\n        className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\"\r\n        disabled={isSubmitting}\r\n        errors={errors.cellphone && touched.cellphone}\r\n        errorMessage={errors.cellphone}\r\n        handleBlur={handleBlur}\r\n        handleChange={handleChange}\r\n        keyfilter=\"pint\"\r\n        label=\"Celular\"\r\n        maxLength=\"9\"\r\n        name=\"cellphone\"\r\n        type=\"text\"\r\n        value={values.cellphone}\r\n      />\r\n      <FormField\r\n        className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\"\r\n        disabled={isSubmitting}\r\n        errors={errors.password && touched.password}\r\n        errorMessage={errors.password}\r\n        handleBlur={handleBlur}\r\n        handleChange={handleChange}\r\n        label=\"Contraseña\"\r\n        name=\"password\"\r\n        type=\"password\"\r\n        value={values.password}\r\n      />\r\n      <FormField\r\n        className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4 p-col-align-center\"\r\n        disabled={isSubmitting}\r\n        errors={errors.confirmPassword && touched.confirmPassword}\r\n        errorMessage={errors.confirmPassword}\r\n        handleBlur={handleBlur}\r\n        handleChange={handleChange}\r\n        label=\"Confirmar contraseña\"\r\n        name=\"confirmPassword\"\r\n        type=\"password\"\r\n        value={values.confirmPassword}\r\n      />\r\n      <div className=\"p-col-6 p-lg-4 p-col-align-center\">\r\n        <Button\r\n          className=\"p-button-rounded button\"\r\n          disabled={isSubmitting}\r\n          label=\"Actualizar\"\r\n          onClick={handleSubmit}\r\n          type=\"submit\"\r\n        />\r\n      </div>\r\n      {\r\n        isSubmitting && (\r\n          <div className=\"p-col-align-center\">\r\n            <ProgressSpinner\r\n              strokeWidth=\"6\"\r\n              style={{\r\n                width: '2rem',\r\n                height: '2rem',\r\n              }}\r\n            />\r\n          </div>\r\n        )\r\n      }\r\n    </form>\r\n  );\r\n};\r\n\r\nexport default Profile;\r\n","// Resources\r\nimport React, { useState, useEffect } from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { useMessages } from '../../../hooks';\r\nimport api from '../../../utils/api';\r\n\r\nconst Users = () => {\r\n  const { path } = useRouteMatch();\r\n  const history = useHistory();\r\n  const [users, setUsers] = useState([]);\r\n  const [isDeleting, setDeleting] = useState(false);\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const fetchUsers = async () => {\r\n    const { data } = await api.User.GetAll();\r\n    const formatted = data.map((u) => {\r\n      const aux = { ...u };\r\n      const { _id } = u;\r\n      aux.email = _id.email;\r\n      return aux;\r\n    });\r\n    setUsers(formatted);\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, []);\r\n\r\n  const deleteUser = async (rowData) => {\r\n    setDeleting(true);\r\n    const res = await api.User.Delete(rowData.email);\r\n    if (res instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n      setDeleting(false);\r\n    } else {\r\n      switch (res.code) {\r\n        case '01':\r\n          showMessages('success', 'Muy bien!', 'Se borro el usuario');\r\n          setUsers(users.filter((u) => u.email !== rowData.email));\r\n          setDeleting(false);\r\n          break;\r\n        default:\r\n          showMessages('error', 'Error!', 'No se ah podido eliminar al usuario');\r\n          setDeleting(false);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const actionTemplate = (rowData) => (\r\n    <>\r\n      <Button\r\n        className=\"p-button-rounded\"\r\n        disabled={isDeleting}\r\n        icon=\"pi pi-pencil\"\r\n        onClick={() => {\r\n          history.push(`${path}/edit/${rowData.email}`);\r\n        }}\r\n        style={{\r\n          fontSize: '10px',\r\n          marginRight: '0.5rem',\r\n        }}\r\n        type=\"button\"\r\n      />\r\n      <Button\r\n        className=\"p-button-rounded p-button-danger\"\r\n        disabled={isDeleting}\r\n        icon=\"pi pi-trash\"\r\n        onClick={() => { deleteUser(rowData); }}\r\n        style={{\r\n          fontSize: '10px',\r\n        }}\r\n        type=\"button\"\r\n      />\r\n    </>\r\n  );\r\n\r\n  return (\r\n    <div className=\"p-grid p-dir-col\">\r\n      <div className=\"p-col-10 p-sm-5 p-md-4 p-lg-3 p-col-align-center\">\r\n        <Button\r\n          className=\"button\"\r\n          disabled={isDeleting}\r\n          icon=\"pi pi-plus\"\r\n          label=\"Agregar usuario\"\r\n          onClick={() => {\r\n            history.push(`${path}/new`);\r\n          }}\r\n        />\r\n      </div>\r\n      {\r\n        isDeleting && (\r\n          <div className=\"mb-15 p-col-align-center\">\r\n            <ProgressSpinner\r\n              strokeWidth=\"6\"\r\n              style={{\r\n                width: '2rem',\r\n                height: '2rem',\r\n              }}\r\n            />\r\n          </div>\r\n        )\r\n      }\r\n      <div className=\"p-col-12 p-col-align-center\">\r\n        {renderMessages()}\r\n      </div>\r\n      {\r\n        users.length > 0 && (\r\n          <DataTable\r\n            alwaysShowPaginator={false}\r\n            className=\"p-col-12\"\r\n            columnResizeMode=\"fit\"\r\n            rows={5}\r\n            rowClassName={() => ({ 'table-row': true })}\r\n            rowsPerPageOptions={[5, 10, 15]}\r\n            paginator\r\n            responsive\r\n            removableSort\r\n            sortMode=\"multiple\"\r\n            value={users}\r\n          >\r\n            <Column\r\n              field=\"email\"\r\n              header=\"Correo electronico\"\r\n            />\r\n            <Column\r\n              field=\"name\"\r\n              header=\"Nombre\"\r\n              style={{ width: '30%' }}\r\n            />\r\n            <Column\r\n              field=\"cellphone\"\r\n              header=\"Telefono\"\r\n            />\r\n            <Column\r\n              body={(rowData) => {\r\n                switch (rowData.type) {\r\n                  case 1:\r\n                    return 'Cliente';\r\n                  case 2:\r\n                    return 'Admin';\r\n                  default:\r\n                    return 'SAdmin';\r\n                }\r\n              }}\r\n              header=\"Tipo\"\r\n              style={{ width: '10%' }}\r\n            />\r\n            <Column\r\n              body={actionTemplate}\r\n              header=\"Acciones\"\r\n              style={{ width: '12%' }}\r\n            />\r\n          </DataTable>\r\n        )\r\n      }\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","/**\r\n * Verify if an object is empty\r\n * @param {Object} object Object to verify\r\n */\r\nfunction isEmptyObject(object) {\r\n  if (Object.keys(object).length === 0 && object.constructor === Object) {\r\n    return true;\r\n  }\r\n  return false;\r\n}\r\n\r\n/**\r\n * Validate if a string have the right structure of a email address\r\n * @param {String} string Email to validate\\\r\n * @return {Boolean}\r\n */\r\nfunction isValidEmail(string) {\r\n  if (!/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i.test(string)) {\r\n    return false;\r\n  }\r\n  return true;\r\n}\r\n\r\nexport { isValidEmail, isEmptyObject };\r\n","function currentMonthRange() {\r\n  const today = new Date();\r\n  const firstDay = new Date(today.getFullYear(), today.getMonth(), 1);\r\n  const lastDay = new Date(today.getFullYear(), today.getMonth() + 1, 0);\r\n\r\n  return { firstDay, lastDay };\r\n}\r\n\r\nfunction createGetQuery(bookCode, companyCode, values) {\r\n  const aux = { ...values };\r\n  let query = `bookCode=${bookCode}&companyCode=${companyCode}`;\r\n  const vKeys = Object.keys(aux);\r\n  for (let i = 0; i < vKeys.length; i += 1) {\r\n    const key = vKeys[i];\r\n    switch (key) {\r\n      case 'clientDoc':\r\n        if (aux[key] !== '') {\r\n          const auxArray = aux[key].split('-');\r\n          query = query.concat(`&${key}=${auxArray[0]}`);\r\n        }\r\n        break;\r\n      case 'seriesNumbers':\r\n        if (aux[key] !== '') {\r\n          const auxArray = aux[key].split('-');\r\n          query = query.concat(`&serie=${auxArray[0]}`);\r\n          query = query.concat(`&number=${auxArray[1]}`);\r\n        }\r\n        break;\r\n      default:\r\n        if (aux[key] !== '') {\r\n          query = query.concat(`&${key}=${aux[key]}`);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n  return query;\r\n}\r\n\r\nexport { createGetQuery, currentMonthRange };\r\n","// Dependencies\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useParams, useHistory } from 'react-router-dom';\r\nimport { Formik, Form, FieldArray } from 'formik';\r\nimport CryptoJS from 'crypto-js';\r\n\r\n// resources\r\nimport { Button } from 'primereact/button';\r\nimport { Checkbox } from 'primereact/checkbox';\r\nimport { Fieldset } from 'primereact/fieldset';\r\nimport { InputText } from 'primereact/inputtext';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { useMessages } from '../../../../hooks';\r\nimport FormField from '../../../../sharedcomponents/FormField';\r\nimport { isValidEmail } from '../../../../utils';\r\nimport api from '../../../../utils/api';\r\n\r\nconst Edit = () => {\r\n  const history = useHistory();\r\n  const { userId } = useParams();\r\n  const [user, setUser] = useState({\r\n    _id: {\r\n      email: '',\r\n    },\r\n    name: '',\r\n    docNumber: '',\r\n    cellphone: '',\r\n    type: 0,\r\n    companies: [],\r\n  });\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const createUser = async (values, actions) => {\r\n    const obj = { ...values };\r\n    delete obj.confirmPassword;\r\n    obj.password = CryptoJS.AES.encrypt(obj.password, obj.email).toString();\r\n    const res = await api.User.Create(obj);\r\n    if (res instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexión');\r\n      actions.setSubmitting(false);\r\n    } else {\r\n      switch (res.code) {\r\n        case '01':\r\n          showMessages('success', 'Muy bien!', 'Se ha registrado al usuario');\r\n          setTimeout(() => {\r\n            history.goBack();\r\n            actions.setSubmitting(false);\r\n          }, 3000);\r\n          break;\r\n        case '02':\r\n          showMessages('warn', 'Alerta!', 'Este usuario ya esta registrado');\r\n          actions.setSubmitting(false);\r\n          break;\r\n        default:\r\n          showMessages('error', 'Error!', 'Algo ah salido mal');\r\n          actions.setSubmitting(false);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const updateUser = async (values, actions) => {\r\n    const obj = { ...values };\r\n    delete obj.confirmPassword;\r\n    if (obj.password !== '') {\r\n      obj.password = CryptoJS.AES.encrypt(\r\n        obj.password,\r\n        obj.email,\r\n      ).toString();\r\n    } else {\r\n      delete obj.password;\r\n    }\r\n    const userRes = await api.User.UpdateUser(obj);\r\n    if (userRes instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n      actions.setSubmitting(false);\r\n    } else {\r\n      switch (userRes.code) {\r\n        case '01':\r\n          showMessages('success', 'Muy bien!', 'Se actualizaron los datos');\r\n          setTimeout(() => {\r\n            history.goBack();\r\n            actions.setSubmitting(false);\r\n          }, 3000);\r\n          break;\r\n        default:\r\n          showMessages('error', 'Error!', 'Algo ah salido mal');\r\n          actions.setSubmitting(false);\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const fetchUser = async (id, h) => {\r\n    if (id !== undefined) {\r\n      const { data } = await api.User.GetById(id);\r\n      if (data !== undefined) {\r\n        setUser(data);\r\n      } else {\r\n        h.goBack();\r\n      }\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchUser(userId, history);\r\n  }, [userId, history]);\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.name) {\r\n      errors.name = 'Campo obligatorio';\r\n    }\r\n    if (!values.email) {\r\n      errors.email = 'Campo obligatorio';\r\n    } else if (!isValidEmail(values.email)) {\r\n      errors.email = 'Correo electronico invalido';\r\n    }\r\n    if (!values.docNumber) {\r\n      errors.docNumber = 'Campo obligatorio';\r\n    } else if (!(values.docNumber.length === 8)) {\r\n      errors.docNumber = 'Número de documento invalido';\r\n    }\r\n    if (!values.cellphone) {\r\n      errors.cellphone = 'Campo obligatorio';\r\n    } else if (!values.cellphone.startsWith('9') || !(values.cellphone.length === 9)) {\r\n      errors.cellphone = 'Numero de celular invalido';\r\n    }\r\n    if (userId !== undefined) {\r\n      if (values.password !== values.confirmPassword) {\r\n        errors.confirmPassword = 'Las contraseñas no son iguales';\r\n      }\r\n    } else {\r\n      if (!values.password) {\r\n        errors.password = 'Campo obligatorio';\r\n      }\r\n      if (!values.confirmPassword) {\r\n        errors.confirmPassword = 'Campo obligatorio';\r\n      } else if (values.password !== values.confirmPassword) {\r\n        errors.confirmPassword = 'Las contraseñas no son iguales';\r\n      }\r\n    }\r\n    if (values.type === '0') {\r\n      errors.type = 'Campo obligatorio';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = (values, actions) => {\r\n    if (userId !== undefined) {\r\n      updateUser(values, actions);\r\n    } else {\r\n      createUser(values, actions);\r\n    }\r\n  };\r\n\r\n  const {\r\n    _id,\r\n    name,\r\n    docNumber,\r\n    cellphone,\r\n    type,\r\n    companies,\r\n  } = user;\r\n\r\n\r\n  return (\r\n    <Formik\r\n      enableReinitialize\r\n      initialValues={{\r\n        name,\r\n        email: _id.email,\r\n        docNumber,\r\n        cellphone,\r\n        password: '',\r\n        confirmPassword: '',\r\n        type,\r\n        companies: companies !== undefined ? companies : [],\r\n      }}\r\n      onSubmit={(values, actions) => { onSubmit(values, actions); }}\r\n      validate={validate}\r\n    >\r\n      {({\r\n        errors,\r\n        handleBlur,\r\n        handleChange,\r\n        handleSubmit,\r\n        isSubmitting,\r\n        touched,\r\n        values,\r\n      }) => (\r\n        <Form className=\"form p-grid p-dir-col\" onSubmit={handleSubmit}>\r\n          <div className=\"p-col-11 p-col-align-center\">\r\n            {renderMessages()}\r\n          </div>\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.name && touched.name}\r\n            errorMessage={errors.name}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            label=\"Nombre completo\"\r\n            name=\"name\"\r\n            type=\"text\"\r\n            value={values.name}\r\n          />\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.email && touched.email}\r\n            errorMessage={errors.email}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            keyfilter=\"email\"\r\n            label=\"Correo electronico\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={values.email}\r\n          />\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.docNumber && touched.docNumber}\r\n            errorMessage={errors.docNumber}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            keyfilter=\"pint\"\r\n            label=\"DNI\"\r\n            maxLength=\"8\"\r\n            name=\"docNumber\"\r\n            type=\"text\"\r\n            value={values.docNumber}\r\n          />\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.cellphone && touched.cellphone}\r\n            errorMessage={errors.cellphone}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            keyfilter=\"pint\"\r\n            label=\"Celular\"\r\n            maxLength=\"9\"\r\n            name=\"cellphone\"\r\n            type=\"text\"\r\n            value={values.cellphone}\r\n          />\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.password && touched.password}\r\n            errorMessage={errors.password}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            label=\"Contraseña\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={values.password}\r\n          />\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.confirmPassword && touched.confirmPassword}\r\n            errorMessage={errors.confirmPassword}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            label=\"Confirmar contraseña\"\r\n            name=\"confirmPassword\"\r\n            type=\"password\"\r\n            value={values.confirmPassword}\r\n          />\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.type && touched.type}\r\n            errorMessage={errors.type}\r\n            handleChange={handleChange}\r\n            label=\"Tipo de usuario\"\r\n            name=\"type\"\r\n            options={[\r\n              {\r\n                label: 'Cliente',\r\n                value: 1,\r\n              },\r\n              {\r\n                label: 'Administrador',\r\n                value: 2,\r\n              },\r\n              {\r\n                label: 'Super Administrador',\r\n                value: 3,\r\n              },\r\n            ]}\r\n            type=\"select\"\r\n            value={values.type}\r\n          />\r\n          {\r\n            values.type.toString() !== '2' && (\r\n              <Fieldset className=\"p-col-11 p-col-align-center\" legend=\"Empresas\">\r\n                <FieldArray\r\n                  className=\"p-grid p-dir-col\"\r\n                  name=\"companies\"\r\n                  render={(arrayHelpers) => (\r\n                    <>\r\n                      {values.companies.map((company, idx) => (\r\n                        <div className=\"p-inputgroup p-col-12 form__field\" key={companies.indexOf(company)}>\r\n                          <span className=\"p-inputgroup-addon\">\r\n                            <Checkbox\r\n                              id={`companies.${idx}.isEnabled`}\r\n                              name={`companies.${idx}.isEnabled`}\r\n                              checked={company.isEnabled}\r\n                              onChange={handleChange}\r\n                            />\r\n                          </span>\r\n                          <InputText\r\n                            disabled={isSubmitting}\r\n                            keyfilter=\"pint\"\r\n                            maxLength=\"11\"\r\n                            name={`companies.${idx}.number`}\r\n                            onBlur={handleBlur}\r\n                            onChange={handleChange}\r\n                            placeholder=\"RUC\"\r\n                            type=\"text\"\r\n                            value={company.number}\r\n                          />\r\n                          <Button\r\n                            className=\"p-button-danger\"\r\n                            icon=\"pi pi-minus\"\r\n                            onClick={() => arrayHelpers.remove(idx)}\r\n                            type=\"button\"\r\n                          />\r\n                        </div>\r\n                      ))}\r\n                      <Button\r\n                        className=\"p-button-rounded\"\r\n                        label=\"Agregar empresa\"\r\n                        onClick={() => arrayHelpers.push({ number: '', isEnabled: false })}\r\n                        type=\"button\"\r\n                      />\r\n                    </>\r\n                  )}\r\n                />\r\n              </Fieldset>\r\n            )\r\n          }\r\n          {\r\n            isSubmitting && (\r\n              <div className=\"p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n          <div className=\"p-col-10 p-md-5 p-md-4 p-col-align-center\">\r\n            <div className=\"p-grid p-justify-between\">\r\n              <div className=\"p-col-6 p-xl-5\">\r\n                <Button\r\n                  className=\"p-button-rounded p-button-danger button\"\r\n                  disabled={isSubmitting}\r\n                  label=\"Cancelar\"\r\n                  onClick={() => history.goBack()}\r\n                  type=\"button\"\r\n                />\r\n              </div>\r\n              <div className=\"p-col-6 p-xl-5\">\r\n                <Button\r\n                  className=\"p-button-rounded button\"\r\n                  disabled={isSubmitting}\r\n                  label=\"Guardar\"\r\n                  type=\"submit\"\r\n                />\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n};\r\n\r\nexport default Edit;\r\n","// Dependencies\r\nimport React from 'react';\r\n\r\nconst NotFound = () => (\r\n  <>\r\n    <hgroup>\r\n      <h1>Error 404</h1>\r\n      <h2>No encontrado</h2>\r\n    </hgroup>\r\n  </>\r\n);\r\n\r\nexport default NotFound;\r\n","// Dependencies\r\nimport React from 'react';\r\nimport { Route, Switch, useRouteMatch } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n// Resources\r\nimport AuthRoute from '../AuthRoute';\r\nimport Companies from '../../components/Dashboard/Companies';\r\nimport Profile from '../../components/Dashboard/Profile';\r\nimport Users from '../../components/Dashboard/Users';\r\nimport Edit from '../../components/Dashboard/Users/Edit';\r\nimport NotFound from '../../components/NotFound';\r\nimport config from '../../config';\r\n\r\nconst ConfigurationRoutes = () => {\r\n  const { path } = useRouteMatch();\r\n  const { type } = jwt.verify(sessionStorage.getItem('userJWT'), config.jwtSecret);\r\n\r\n  return (\r\n    <Switch>\r\n      <AuthRoute\r\n        exact\r\n        path={path}\r\n        render={() => <h1>Bienvenido</h1>}\r\n      />\r\n      <AuthRoute\r\n        exact\r\n        path={`${path}/profile`}\r\n        render={() => <Profile />}\r\n      />\r\n      {\r\n        type === 1 ? (\r\n          <AuthRoute\r\n            exact\r\n            path={`${path}/companies`}\r\n            render={() => <Companies />}\r\n          />\r\n        ) : (\r\n          <>\r\n            <AuthRoute\r\n              exact\r\n              path={`${path}/users`}\r\n              render={() => <Users />}\r\n            />\r\n            <AuthRoute\r\n              exact\r\n              path={`${path}/users/edit/:userId`}\r\n              render={() => <Edit />}\r\n            />\r\n            <AuthRoute\r\n              exact\r\n              path={`${path}/users/new`}\r\n              render={() => <Edit />}\r\n            />\r\n          </>\r\n        )\r\n      }\r\n      {/* {\r\n        type === 2 && (\r\n          <>\r\n            <AuthRoute\r\n              exact\r\n              path={`${path}/users`}\r\n              render={() => <Users />}\r\n            />\r\n            <AuthRoute\r\n              exact\r\n              path={`${path}/users/edit/:userId`}\r\n              render={() => <Edit />}\r\n            />\r\n            <AuthRoute\r\n              exact\r\n              path={`${path}/users/new`}\r\n              render={() => <Edit />}\r\n            />\r\n          </>\r\n        )\r\n      } */}\r\n      <Route path=\"*\" component={NotFound} />\r\n    </Switch>\r\n  );\r\n};\r\n\r\nexport default ConfigurationRoutes;\r\n","// Dependencies\r\nimport React from 'react';\r\nimport { useHistory, useRouteMatch } from 'react-router-dom';\r\nimport jwt from 'jsonwebtoken';\r\n\r\n// Resources\r\nimport { Menu } from 'primereact/menu';\r\nimport ConfigurationRoutes from '../../../routes/Configuration';\r\nimport config from '../../../config';\r\n\r\nconst Configuration = () => {\r\n  const { url } = useRouteMatch();\r\n  const history = useHistory();\r\n  const { type } = jwt.verify(sessionStorage.getItem('userJWT'), config.jwtSecret);\r\n\r\n  const items = [\r\n    {\r\n      label: 'Perfil',\r\n      icon: 'pi pi-fw pi-id-card',\r\n      command: () => { history.push(`${url}/profile`); },\r\n    },\r\n  ];\r\n\r\n  switch (type) {\r\n    case 1:\r\n      items.push({\r\n        label: 'Empresas',\r\n        icon: 'pi pi-fw pi-briefcase',\r\n        command: () => { history.push(`${url}/companies`); },\r\n      });\r\n      break;\r\n    case 2:\r\n    case 3:\r\n      items.push({\r\n        label: 'Usuarios',\r\n        icon: 'pi pi-fw pi-users',\r\n        command: () => { history.push(`${url}/users`); },\r\n      });\r\n      break;\r\n    default:\r\n      break;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <hgroup className=\"heading p-col-11 p-col-align-center\">\r\n        <h1 className=\"title\">Configuración</h1>\r\n      </hgroup>\r\n      <div className=\"p-col-11\">\r\n        <div className=\"p-grid p-dir-row p-justify-center\">\r\n          <aside className=\"content p-col-11 p-lg-3 p-xl-2\">\r\n            <Menu\r\n              model={items}\r\n              style={{ width: '100%' }}\r\n            />\r\n          </aside>\r\n          <section className=\"p-col-11 p-lg-9 p-xl-10\">\r\n            <ConfigurationRoutes />\r\n          </section>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Configuration;\r\n","const voucherCodes = {\r\n  FE: '01',\r\n  BE: '03',\r\n  NCE: '07',\r\n  NDE: '08',\r\n  GRE: '09',\r\n};\r\n\r\nexport { voucherCodes as default };\r\n","// Dependencies\r\nimport React from 'react';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\n\r\nconst actionTemplate = (rowData, globalLoading, downloadPDF, downloadXML, downloadCDR) => (\r\n  <>\r\n    <Button\r\n      className=\"p-button-danger p-button-rounded\"\r\n      disabled={globalLoading}\r\n      label=\"PDF\"\r\n      onClick={() => { downloadPDF(rowData); }}\r\n      style={{\r\n        fontSize: '10px',\r\n        marginRight: '0.3rem',\r\n      }}\r\n      tooltip=\"Descargar PDF\"\r\n      type=\"button\"\r\n    />\r\n    <Button\r\n      className=\"p-button-success p-button-rounded\"\r\n      disabled={globalLoading}\r\n      label=\"XML\"\r\n      onClick={() => { downloadXML(rowData); }}\r\n      style={{\r\n        fontSize: '10px',\r\n        marginRight: '0.3rem',\r\n      }}\r\n      tooltip=\"Descargar XML\"\r\n      type=\"button\"\r\n    />\r\n    <Button\r\n      className=\"p-button-primary p-button-rounded\"\r\n      disabled={globalLoading}\r\n      label=\"CDR\"\r\n      onClick={() => { downloadCDR(rowData); }}\r\n      style={{\r\n        fontSize: '10px',\r\n      }}\r\n      tooltip=\"Descargar CDR\"\r\n      type=\"button\"\r\n    />\r\n  </>\r\n);\r\n\r\nconst currencyTemplate = (rowData) => {\r\n  switch (rowData.Cod_Moneda) {\r\n    case 'USD':\r\n      return '$';\r\n    default:\r\n      return 'S/';\r\n  }\r\n};\r\n\r\nconst dateTemplate = (rowData) => {\r\n  const formattedDate = (new Date(rowData.FechaEmision)).toLocaleDateString();\r\n  return formattedDate;\r\n};\r\n\r\nconst dtFooterVouchers = (totalF, totalB, totalNC, totalND, quantity) => (\r\n  <table>\r\n    <tbody className=\"\">\r\n      <tr className=\"p-grid p-dir-row\">\r\n        <td className=\"p-col-12 text--center\">\r\n          <Button\r\n            className=\"button p-button-info p-button-rounded\"\r\n            icon=\"pi pi-info\"\r\n            style={{\r\n              fontSize: '10px',\r\n              marginLeft: '.3rem',\r\n            }}\r\n            tooltip=\"Montos calculados en Soles\"\r\n            tooltipOptions={{ event: 'focus' }}\r\n          />\r\n        </td>\r\n        <td className=\"p-col-6 text--end\">\r\n          Total de\r\n          <b> FACTURAS</b>\r\n          :\r\n        </td>\r\n        <td className=\"p-col-6 text--start\">{`S/.${totalF}`}</td>\r\n        <td className=\"p-col-6 text--end\">\r\n          Total de\r\n          <b> BOLETAS</b>\r\n          :\r\n        </td>\r\n        <td className=\"p-col-6 text--start\">{`S/.${totalB}`}</td>\r\n        <td className=\"p-col-6 text--end\">\r\n          Total de\r\n          <b> NOTAS DE CRÉDITO</b>\r\n          :\r\n        </td>\r\n        <td className=\"p-col-6 text--start\">{`S/.${totalNC}`}</td>\r\n        <td className=\"p-col-6 text--end\">\r\n          Total de\r\n          <b> NOTAS DE DÉBITO</b>\r\n          :\r\n        </td>\r\n        <td className=\"p-col-6 text--start\">{`S/.${totalND}`}</td>\r\n        <td className=\"p-col-6 text--end\">Cantidad:</td>\r\n        <td className=\"p-col-6 text--start\">{quantity}</td>\r\n      </tr>\r\n    </tbody>\r\n  </table>\r\n);\r\n\r\nconst stateTemplate = (rowData) => (\r\n  <>\r\n    {rowData.Cod_EstadoComprobante}\r\n    <Button\r\n      className=\"button p-button-secondary p-button-rounded\"\r\n      icon=\"pi pi-info\"\r\n      style={{\r\n        fontSize: '10px',\r\n        marginLeft: '.3rem',\r\n      }}\r\n      tooltip={\r\n        `<b>INI</b>: Iniciado\r\n        <b>EMI</b>: Emitido\r\n        <b>ENS</b>: Enviado Sunat\r\n        <b>REC</b>: Rechazado\r\n        <b>ACS</b>: Aceptado Sunat\r\n        <b>ENB</b>: Enviado a BD\r\n        <b>ENF</b>: Enviado a FTP\r\n        <b>ENE</b>: Enviado a email\r\n        <b>FIN</b>: Finalizado\r\n        <b>RFIN</b>: Verificado Sunat\r\n        <b>BAJA</b>: Dado de baja`\r\n      }\r\n      tooltipOptions={{ event: 'focus' }}\r\n    />\r\n  </>\r\n);\r\n\r\nexport {\r\n  actionTemplate,\r\n  currencyTemplate,\r\n  dateTemplate,\r\n  dtFooterVouchers,\r\n  stateTemplate,\r\n};\r\n","// Dependencies\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useFormik } from 'formik';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { SplitButton } from 'primereact/splitbutton';\r\nimport api from '../../../utils/api';\r\nimport config from '../../../config';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport voucherCodes from '../../../utils/Objects';\r\nimport {\r\n  currentMonthRange,\r\n  createGetQuery,\r\n  exportResume,\r\n  exportDetailed,\r\n} from '../../../utils';\r\nimport {\r\n  useEntities,\r\n  useMessages,\r\n  useSeriesNumbers,\r\n  useVoucherTypes,\r\n} from '../../../hooks';\r\nimport {\r\n  actionTemplate,\r\n  currencyTemplate,\r\n  dateTemplate,\r\n  dtFooterVouchers,\r\n  stateTemplate,\r\n} from '../../../templates';\r\n\r\nconst Sales = ({ currentCompany }) => {\r\n  const bookCode = '14';\r\n  const { entities } = useEntities(currentCompany, bookCode);\r\n  const { seriesNumbers } = useSeriesNumbers(currentCompany, bookCode);\r\n  const { voucherTypes } = useVoucherTypes();\r\n  const [showMessages, renderMessages] = useMessages();\r\n  const [globalLoading, setGlobalLoading] = useState(false);\r\n\r\n  // Concept: Formik default value\r\n  const { firstDay, lastDay } = currentMonthRange();\r\n  const [fd] = useState(firstDay);\r\n  const [ld] = useState(lastDay);\r\n\r\n  // Concept: Formik functions\r\n  const [query, setQuery] = useState('');\r\n  const [quantity, setQuantity] = useState(0);\r\n  const [totalF, setTotalF] = useState(0);\r\n  const [totalB, setTotalB] = useState(0);\r\n  const [totalNC, setTotalNC] = useState(0);\r\n  const [totalND, setTotalND] = useState(0);\r\n  const [vouchers, setVouchers] = useState([]);\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.startDate) {\r\n      errors.startDate = 'Campo obligatorio';\r\n    }\r\n    if (!values.endDate) {\r\n      errors.endDate = 'Campo obligatorio';\r\n    } else if (new Date(values.endDate).getTime() <= new Date(values.startDate).getTime()) {\r\n      errors.endDate = 'La fecha final debe ser superior a la fecha inicial';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (values, actions) => {\r\n    const q = createGetQuery(bookCode, currentCompany, values);\r\n    setQuery(q);\r\n    const vouchersR = await api.Voucher.ReadMany(q);\r\n    if (vouchersR instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n    } else if (vouchersR.code === '01') {\r\n      const { data } = vouchersR;\r\n      if (data.length !== 0) {\r\n        let sumF = 0; let sumB = 0; let sumNC = 0; let sumND = 0;\r\n        for (let i = 0; i < data.length; i += 1) {\r\n          const e = data[i];\r\n          switch (e.Cod_TipoComprobante) {\r\n            case 'FE' || 'FC':\r\n              sumF += e.Total * e.TipoCambio;\r\n              break;\r\n            case 'BE' || 'BC':\r\n              sumB += e.Total * e.TipoCambio;\r\n              break;\r\n            case 'NCE' || 'NCC':\r\n              sumNC += e.Total * e.TipoCambio;\r\n              break;\r\n            case 'NDE' || 'NDC':\r\n              sumND += e.Total * e.TipoCambio;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        setTotalF(Math.round(sumF * 100) / 100);\r\n        setTotalB(Math.round(sumB * 100) / 100);\r\n        setTotalNC(Math.round(sumNC * 100) / 100);\r\n        setTotalND(Math.round(sumND * 100) / 100);\r\n        setQuantity(data.length);\r\n        setVouchers(data);\r\n      } else {\r\n        showMessages('warn', 'Alerta!', 'No se han encontrado comprobantes');\r\n        setVouchers([]);\r\n      }\r\n    } else {\r\n      showMessages('error', 'Error!', 'Algo ah salido mal');\r\n      setVouchers([]);\r\n    }\r\n    actions.setSubmitting(false);\r\n  };\r\n\r\n  // Concept: Datatable functions\r\n  const [showPdfDialog, setShowPdfDialog] = useState(false);\r\n  const [pdfSource, setPdfSource] = useState('');\r\n  const items = [\r\n    {\r\n      label: 'Resumen',\r\n      icon: 'pi pi-file-o',\r\n      command: () => {\r\n        setGlobalLoading(true);\r\n        exportResume(bookCode, currentCompany, query)\r\n          .then(() => {\r\n            setGlobalLoading(false);\r\n          });\r\n      },\r\n    },\r\n    {\r\n      label: 'Detallado',\r\n      icon: 'pi pi-file',\r\n      command: async () => {\r\n        setGlobalLoading(true);\r\n        exportDetailed(bookCode, currentCompany, query)\r\n          .then(() => {\r\n            setGlobalLoading(false);\r\n          });\r\n      },\r\n    },\r\n  ];\r\n\r\n  const downloadPDF = (voucher) => {\r\n    let url = '';\r\n    const ruc = currentCompany;\r\n    const fullDate = new Date(voucher.FechaEmision);\r\n    const year = fullDate.getFullYear();\r\n    const month = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1).toString() : `0${(fullDate.getMonth() + 1).toString()}`;\r\n    const date = fullDate.getDate().toString().length === 2 ? fullDate.getDate().toString() : `0${fullDate.getDate().toString()}`;\r\n    const formatDate = `${year}/${month}/${date}`;\r\n    const formatData = `${ruc}-${voucherCodes[voucher.Cod_TipoComprobante]}-${voucher.Serie}-${voucher.Numero}.pdf`;\r\n    url = `${config.ftpApi}/AArchivo/COMPROBANTES/${ruc}/${formatDate}/PDF/${formatData}`;\r\n    setShowPdfDialog(true);\r\n    setPdfSource(url);\r\n  };\r\n\r\n  const downloadXML = (voucher) => {\r\n    const ruc = currentCompany;\r\n    const fullDate = new Date(voucher.FechaEmision);\r\n    const year = fullDate.getFullYear();\r\n    const month = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1).toString() : `0${(fullDate.getMonth() + 1).toString()}`;\r\n    const date = fullDate.getDate().toString().length === 2 ? fullDate.getDate().toString() : `0${fullDate.getDate().toString()}`;\r\n\r\n    const formatDate = `${year}/${month}/${date}`;\r\n    const urln = `${ruc}/${formatDate}/XML/${ruc}-${voucherCodes[voucher.Cod_TipoComprobante]}-${voucher.Serie}-${voucher.Numero}.zip`;\r\n    const codificado = btoa(urln);\r\n    let url = `${config.ftpApi}/AArchivo/url/`;\r\n    url += codificado;\r\n    window.location.href = url;\r\n  };\r\n\r\n  const downloadCDR = (voucher) => {\r\n    const ruc = currentCompany;\r\n    const fullDate = new Date(voucher.FechaEmision);\r\n    const year = fullDate.getFullYear();\r\n    const month = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1).toString() : `0${(fullDate.getMonth() + 1).toString()}`;\r\n    const date = fullDate.getDate().toString().length === 2 ? fullDate.getDate().toString() : `0${fullDate.getDate().toString()}`;\r\n\r\n    const formatDate = `${year}/${month}/${date}`;\r\n    const urln = `${ruc}/${formatDate}/CDR/R-${ruc}-${voucherCodes[voucher.Cod_TipoComprobante]}-${voucher.Serie}-${voucher.Numero}.zip`;\r\n    const codificado = btoa(urln);\r\n    let url = `${config.ftpApi}/AArchivo/url/`;\r\n    url += codificado;\r\n    window.location.href = url;\r\n  };\r\n\r\n  // Concept: Dialog functions\r\n  const hidePDFModal = () => {\r\n    setShowPdfDialog(false);\r\n    setPdfSource('');\r\n  };\r\n\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  } = useFormik({\r\n    initialValues: {\r\n      voucherType: '',\r\n      clientDoc: '',\r\n      seriesNumbers: '',\r\n      startDate: fd.toISOString().slice(0, 10),\r\n      endDate: ld.toISOString().slice(0, 10),\r\n    },\r\n    validate,\r\n    onSubmit: (vals, actions) => { onSubmit(vals, actions); },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-col-11\">\r\n        <form\r\n          className=\"form form--filter p-grid p-justify-center\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <hgroup className=\"heading p-col-12 p-col-align-center\">\r\n            <h1 className=\"title\">VENTAS</h1>\r\n          </hgroup>\r\n          <div className=\"p-col-12 p-col-align-center\">\r\n            {renderMessages()}\r\n          </div>\r\n          <div className=\"p-col-12 p-md-10 p-lg-10 p-col-align-center\">\r\n            <div className=\"p-grid\">\r\n              <FormField\r\n                className=\"p-col-12 p-sm-6 p-md-5 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                handleChange={handleChange}\r\n                label=\"Tipo de comprobante\"\r\n                name=\"voucherType\"\r\n                options={voucherTypes}\r\n                type=\"select\"\r\n                value={values.voucherType}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-6 p-md-7 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                filter\r\n                filterBy=\"value, label\"\r\n                handleChange={handleChange}\r\n                label=\"Empresa\"\r\n                name=\"clientDoc\"\r\n                options={entities}\r\n                type=\"select\"\r\n                value={values.clientDoc}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-4 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                filter\r\n                filterBy=\"value, label\"\r\n                handleChange={handleChange}\r\n                label=\"Serie - Número\"\r\n                name=\"seriesNumbers\"\r\n                options={seriesNumbers}\r\n                type=\"select\"\r\n                value={values.seriesNumbers}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-4 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                errors={errors.startDate && touched.startDate}\r\n                errorMessage={errors.startDate}\r\n                handleBlur={handleBlur}\r\n                handleChange={handleChange}\r\n                label=\"Fecha inicial\"\r\n                name=\"startDate\"\r\n                type=\"date\"\r\n                value={values.startDate}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-4 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                errors={errors.endDate && touched.endDate}\r\n                errorMessage={errors.endDate}\r\n                handleBlur={handleBlur}\r\n                handleChange={handleChange}\r\n                label=\"Fecha final\"\r\n                name=\"endDate\"\r\n                type=\"date\"\r\n                value={values.endDate}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"p-col-12 p-sm-4 p-md-2 p-col-align-center\">\r\n            <Button\r\n              className=\"p-button-rounded button button--blue button--small\"\r\n              label=\"Filtrar\"\r\n              disabled={isSubmitting || globalLoading}\r\n              type=\"submit\"\r\n            />\r\n          </div>\r\n          {\r\n            isSubmitting && (\r\n              <div className=\"mb-15 p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n        </form>\r\n      </div>\r\n      <Dialog\r\n        blockScroll\r\n        className=\"p-col-11\"\r\n        header=\"PDF\"\r\n        visible={showPdfDialog}\r\n        modal\r\n        onHide={hidePDFModal}\r\n      >\r\n        {\r\n          pdfSource !== '' && (\r\n            <object\r\n              id=\"pdf\"\r\n              aria-label=\"pdf\"\r\n              data={pdfSource}\r\n              type=\"application/pdf\"\r\n              width=\"100%\"\r\n              height=\"600px\"\r\n            >\r\n              <p>\r\n                Your web browser does not have a PDF plugin. Instead you can\r\n                <a href={pdfSource}>click here to download the PDF file.</a>\r\n              </p>\r\n            </object>\r\n          )\r\n        }\r\n      </Dialog>\r\n      {\r\n        vouchers.length !== 0 && (\r\n          <>\r\n            <DataTable\r\n              alwaysShowPaginator={false}\r\n              className=\"p-col-11\"\r\n              columnResizeMode=\"fit\"\r\n              footer={dtFooterVouchers(totalF, totalB, totalNC, totalND, quantity)}\r\n              multiSortMeta={[{ field: 'FechaEmision', order: -1 }]}\r\n              paginator\r\n              responsive\r\n              rows={5}\r\n              rowClassName={() => ({ 'table-row': true })}\r\n              rowsPerPageOptions={[5, 10, 15]}\r\n              removableSort\r\n              sortMode=\"multiple\"\r\n              value={vouchers}\r\n            >\r\n              <Column body={dateTemplate} header=\"Fecha\" style={{ width: '10%' }} />\r\n              <Column field=\"Cod_TipoOperacion\" header=\"Tipo\" style={{ width: '5%' }} sortable />\r\n              <Column field=\"Serie\" header=\"Serie\" style={{ width: '5%' }} sortable />\r\n              <Column field=\"Numero\" header=\"Numero\" style={{ width: '10%' }} sortable />\r\n              <Column field=\"Doc_Cliente\" header=\"N. Documento\" style={{ width: '12%' }} />\r\n              <Column field=\"Nom_Cliente\" header=\"Denominación\" style={{ width: '28%' }} />\r\n              <Column body={currencyTemplate} header=\"M\" style={{ width: '3%' }} />\r\n              <Column field=\"Total\" header=\"Total\" style={{ width: '7%' }} />\r\n              <Column body={stateTemplate} header=\"Estado\" style={{ width: '7%' }} />\r\n              <Column\r\n                body={(rowData) => actionTemplate(\r\n                  rowData,\r\n                  globalLoading,\r\n                  downloadPDF,\r\n                  downloadXML,\r\n                  downloadCDR,\r\n                )}\r\n                header=\"Acciones\"\r\n                style={{ width: '14%' }}\r\n              />\r\n            </DataTable>\r\n            <div\r\n              className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4\"\r\n              style={{ textAlign: 'center' }}\r\n            >\r\n              <SplitButton\r\n                className=\"button button--blue\"\r\n                disabled={globalLoading}\r\n                icon=\"pi pi-file-excel\"\r\n                label=\"Exportar a Excel\"\r\n                model={items}\r\n                tooltip=\"El tiempo para generar el reporte dependera de la cantidad de comprobantes\"\r\n              />\r\n            </div>\r\n          </>\r\n        )\r\n      }\r\n      {\r\n        globalLoading && (\r\n          <ProgressSpinner\r\n            strokeWidth=\"6\"\r\n            style={{\r\n              width: '2rem',\r\n              height: '2rem',\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nSales.propTypes = {\r\n  currentCompany: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Sales;\r\n","// Dependencies\r\nimport React, { useState } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { useFormik } from 'formik';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { Column } from 'primereact/column';\r\nimport { DataTable } from 'primereact/datatable';\r\nimport { Dialog } from 'primereact/dialog';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { SplitButton } from 'primereact/splitbutton';\r\nimport api from '../../../utils/api';\r\nimport config from '../../../config';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport voucherCodes from '../../../utils/Objects';\r\nimport {\r\n  currentMonthRange,\r\n  createGetQuery,\r\n  exportResume,\r\n  exportDetailed,\r\n} from '../../../utils';\r\nimport {\r\n  useEntities,\r\n  useMessages,\r\n  useSeriesNumbers,\r\n  useVoucherTypes,\r\n} from '../../../hooks';\r\nimport {\r\n  actionTemplate,\r\n  currencyTemplate,\r\n  dateTemplate,\r\n  dtFooterVouchers,\r\n  stateTemplate,\r\n} from '../../../templates';\r\n\r\nconst Purchases = ({ currentCompany }) => {\r\n  const bookCode = '08';\r\n  const { entities } = useEntities(currentCompany, bookCode);\r\n  const { seriesNumbers } = useSeriesNumbers(currentCompany, bookCode);\r\n  const { voucherTypes } = useVoucherTypes();\r\n  const [showMessages, renderMessages] = useMessages();\r\n  const [globalLoading, setGlobalLoading] = useState(false);\r\n\r\n  // Concept: Formik default value\r\n  const { firstDay, lastDay } = currentMonthRange();\r\n  const [fd] = useState(firstDay);\r\n  const [ld] = useState(lastDay);\r\n\r\n  // Concept: Formik functions\r\n  const [query, setQuery] = useState('');\r\n  const [quantity, setQuantity] = useState(0);\r\n  const [totalF, setTotalF] = useState(0);\r\n  const [totalB, setTotalB] = useState(0);\r\n  const [totalNC, setTotalNC] = useState(0);\r\n  const [totalND, setTotalND] = useState(0);\r\n  const [vouchers, setVouchers] = useState([]);\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.startDate) {\r\n      errors.startDate = 'Campo obligatorio';\r\n    }\r\n    if (!values.endDate) {\r\n      errors.endDate = 'Campo obligatorio';\r\n    } else if (new Date(values.endDate).getTime() <= new Date(values.startDate).getTime()) {\r\n      errors.endDate = 'La fecha final debe ser superior a la fecha inicial';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const onSubmit = async (values, actions) => {\r\n    const q = createGetQuery(bookCode, currentCompany, values);\r\n    setQuery(q);\r\n    const vouchersR = await api.Voucher.ReadMany(q);\r\n    if (vouchersR instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n    } else if (vouchersR.code === '01') {\r\n      const { data } = vouchersR;\r\n      if (data.length !== 0) {\r\n        let sumF = 0; let sumB = 0; let sumNC = 0; let sumND = 0;\r\n        for (let i = 0; i < data.length; i += 1) {\r\n          const e = data[i];\r\n          switch (e.Cod_TipoComprobante) {\r\n            case 'FE' || 'FC':\r\n              sumF += e.Total * e.TipoCambio;\r\n              break;\r\n            case 'BE' || 'BC':\r\n              sumB += e.Total * e.TipoCambio;\r\n              break;\r\n            case 'NCE' || 'NCC':\r\n              sumNC += e.Total * e.TipoCambio;\r\n              break;\r\n            case 'NDE' || 'NDC':\r\n              sumND += e.Total * e.TipoCambio;\r\n              break;\r\n            default:\r\n              break;\r\n          }\r\n        }\r\n        setTotalF(Math.round(sumF * 100) / 100);\r\n        setTotalB(Math.round(sumB * 100) / 100);\r\n        setTotalNC(Math.round(sumNC * 100) / 100);\r\n        setTotalND(Math.round(sumND * 100) / 100);\r\n        setQuantity(data.length);\r\n        setVouchers(data);\r\n      } else {\r\n        showMessages('warn', 'Alerta!', 'No se han encontrado comprobantes');\r\n        setVouchers([]);\r\n      }\r\n    } else {\r\n      showMessages('error', 'Error!', 'Algo ah salido mal');\r\n      setVouchers([]);\r\n    }\r\n    actions.setSubmitting(false);\r\n  };\r\n\r\n  // Concept: Datatable functions\r\n  const [isShowingPDF, setShowingPDF] = useState(false);\r\n  const [pdfSource, setPdfSource] = useState('');\r\n  const items = [\r\n    {\r\n      label: 'Resumen',\r\n      icon: 'pi pi-file-o',\r\n      command: () => {\r\n        setGlobalLoading(true);\r\n        exportResume(bookCode, currentCompany, query)\r\n          .then(() => {\r\n            setGlobalLoading(false);\r\n          });\r\n      },\r\n    },\r\n    {\r\n      label: 'Detallado',\r\n      icon: 'pi pi-file',\r\n      command: () => {\r\n        setGlobalLoading(true);\r\n        exportDetailed(bookCode, currentCompany, query)\r\n          .then(() => {\r\n            setGlobalLoading(false);\r\n          });\r\n      },\r\n    },\r\n  ];\r\n\r\n  const downloadPDF = (voucher) => {\r\n    let url = '';\r\n    const ruc = currentCompany;\r\n    const fullDate = new Date(voucher.FechaEmision);\r\n    const year = fullDate.getFullYear();\r\n    const month = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1).toString() : `0${(fullDate.getMonth() + 1).toString()}`;\r\n    const date = fullDate.getDate().toString().length === 2 ? fullDate.getDate().toString() : `0${fullDate.getDate().toString()}`;\r\n    const formatDate = `${year}/${month}/${date}`;\r\n    const formatData = `${ruc}-${voucherCodes[voucher.Cod_TipoComprobante]}-${voucher.Serie}-${voucher.Numero}.pdf`;\r\n    url = `${config.ftpApi}/AArchivo/COMPROBANTES/${ruc}/${formatDate}/PDF/${formatData}`;\r\n    setShowingPDF(true);\r\n    setPdfSource(url);\r\n  };\r\n\r\n  const downloadXML = (voucher) => {\r\n    const ruc = currentCompany;\r\n    const fullDate = new Date(voucher.FechaEmision);\r\n    const year = fullDate.getFullYear();\r\n    const month = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1).toString() : `0${(fullDate.getMonth() + 1).toString()}`;\r\n    const date = fullDate.getDate().toString().length === 2 ? fullDate.getDate().toString() : `0${fullDate.getDate().toString()}`;\r\n\r\n    const formatDate = `${year}/${month}/${date}`;\r\n    const urln = `${ruc}/${formatDate}/XML/${ruc}-${voucherCodes[voucher.Cod_TipoComprobante]}-${voucher.Serie}-${voucher.Numero}.zip`;\r\n    const codificado = btoa(urln);\r\n    let url = `${config.ftpApi}/AArchivo/url/`;\r\n    url += codificado;\r\n    window.location.href = url;\r\n  };\r\n\r\n  const downloadCDR = (voucher) => {\r\n    const ruc = currentCompany;\r\n    const fullDate = new Date(voucher.FechaEmision);\r\n    const year = fullDate.getFullYear();\r\n    const month = (fullDate.getMonth() + 1).toString().length === 2 ? (fullDate.getMonth() + 1).toString() : `0${(fullDate.getMonth() + 1).toString()}`;\r\n    const date = fullDate.getDate().toString().length === 2 ? fullDate.getDate().toString() : `0${fullDate.getDate().toString()}`;\r\n\r\n    const formatDate = `${year}/${month}/${date}`;\r\n    const urln = `${ruc}/${formatDate}/CDR/R-${ruc}-${voucherCodes[voucher.Cod_TipoComprobante]}-${voucher.Serie}-${voucher.Numero}.zip`;\r\n    const codificado = btoa(urln);\r\n    let url = `${config.ftpApi}/AArchivo/url/`;\r\n    url += codificado;\r\n    window.location.href = url;\r\n  };\r\n\r\n  // Concept: Dialog functions\r\n  const hidePDFModal = () => {\r\n    setShowingPDF(false);\r\n    setPdfSource('');\r\n  };\r\n\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  } = useFormik({\r\n    initialValues: {\r\n      voucherType: '',\r\n      clientDoc: '',\r\n      seriesNumbers: '',\r\n      startDate: fd.toISOString().slice(0, 10),\r\n      endDate: ld.toISOString().slice(0, 10),\r\n    },\r\n    validate,\r\n    onSubmit: (vals, actions) => { onSubmit(vals, actions); },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-col-11\">\r\n        <form\r\n          className=\"form form--filter p-grid p-justify-center\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <hgroup className=\"heading p-col-12 p-col-align-center\">\r\n            <h1 className=\"title\">COMPRAS</h1>\r\n          </hgroup>\r\n          <div className=\"p-col-12 p-col-align-center\">\r\n            {renderMessages()}\r\n          </div>\r\n          <div className=\"p-col-12 p-md-10 p-lg-10 p-col-align-center\">\r\n            <div className=\"p-grid\">\r\n              <FormField\r\n                className=\"p-col-12 p-sm-6 p-md-5 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                handleChange={handleChange}\r\n                label=\"Tipo de comprobante\"\r\n                name=\"voucherType\"\r\n                options={voucherTypes}\r\n                type=\"select\"\r\n                value={values.voucherType}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-6 p-md-7 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                filter\r\n                filterBy=\"value, label\"\r\n                handleChange={handleChange}\r\n                label=\"Empresa\"\r\n                name=\"clientDoc\"\r\n                options={entities}\r\n                type=\"select\"\r\n                value={values.clientDoc}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-4 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                filter\r\n                filterBy=\"value, label\"\r\n                handleChange={handleChange}\r\n                label=\"Serie - Número\"\r\n                name=\"seriesNumbers\"\r\n                options={seriesNumbers}\r\n                type=\"select\"\r\n                value={values.seriesNumbers}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-4 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                errors={errors.startDate && touched.startDate}\r\n                errorMessage={errors.startDate}\r\n                handleBlur={handleBlur}\r\n                handleChange={handleChange}\r\n                label=\"Fecha inicial\"\r\n                name=\"startDate\"\r\n                type=\"date\"\r\n                value={values.startDate}\r\n              />\r\n              <FormField\r\n                className=\"p-col-12 p-sm-4 p-col-align-center\"\r\n                disabled={isSubmitting || globalLoading}\r\n                errors={errors.endDate && touched.endDate}\r\n                errorMessage={errors.endDate}\r\n                handleBlur={handleBlur}\r\n                handleChange={handleChange}\r\n                label=\"Fecha final\"\r\n                name=\"endDate\"\r\n                type=\"date\"\r\n                value={values.endDate}\r\n              />\r\n            </div>\r\n          </div>\r\n          <div className=\"p-col-12 p-sm-4 p-md-2 p-col-align-center\">\r\n            <Button\r\n              className=\"p-button-rounded button button--blue button--small\"\r\n              label=\"Filtrar\"\r\n              disabled={isSubmitting || globalLoading}\r\n              type=\"submit\"\r\n            />\r\n          </div>\r\n          {\r\n            isSubmitting && (\r\n              <div className=\"p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n        </form>\r\n      </div>\r\n      <Dialog\r\n        blockScroll\r\n        className=\"p-col-11\"\r\n        header=\"PDF\"\r\n        visible={isShowingPDF}\r\n        modal\r\n        onHide={hidePDFModal}\r\n      >\r\n        {\r\n          pdfSource !== '' && (\r\n            <object\r\n              id=\"pdf\"\r\n              aria-label=\"pdf\"\r\n              data={pdfSource}\r\n              type=\"application/pdf\"\r\n              width=\"100%\"\r\n              height=\"600px\"\r\n            >\r\n              <p>\r\n                Your web browser does not have a PDF plugin. Instead you can\r\n                <a href={pdfSource}>click here to download the PDF file.</a>\r\n              </p>\r\n            </object>\r\n          )\r\n        }\r\n      </Dialog>\r\n      {\r\n        vouchers.length !== 0 && (\r\n          <>\r\n            <DataTable\r\n              alwaysShowPaginator={false}\r\n              className=\"p-col-11\"\r\n              columnResizeMode=\"fit\"\r\n              footer={dtFooterVouchers(totalF, totalB, totalNC, totalND, quantity)}\r\n              multiSortMeta={[{ field: 'FechaEmision', order: 1 }]}\r\n              paginator\r\n              responsive\r\n              rows={5}\r\n              rowClassName={() => ({ 'table-row': true })}\r\n              rowsPerPageOptions={[5, 10, 15]}\r\n              removableSort\r\n              sortMode=\"multiple\"\r\n              value={vouchers}\r\n            >\r\n              <Column body={dateTemplate} header=\"Fecha\" style={{ width: '10%' }} />\r\n              <Column field=\"Cod_TipoOperacion\" header=\"Tipo\" style={{ width: '5%' }} sortable />\r\n              <Column field=\"Serie\" header=\"Serie\" style={{ width: '5%' }} sortable />\r\n              <Column field=\"Numero\" header=\"Numero\" style={{ width: '10%' }} sortable />\r\n              <Column field=\"Doc_Cliente\" header=\"N. Documento\" style={{ width: '12%' }} />\r\n              <Column field=\"Nom_Cliente\" header=\"Denominación\" style={{ width: '28%' }} />\r\n              <Column body={currencyTemplate} header=\"M\" style={{ width: '3%' }} />\r\n              <Column field=\"Total\" header=\"Total\" style={{ width: '7%' }} />\r\n              <Column body={stateTemplate} header=\"Estado\" style={{ width: '7%' }} />\r\n              <Column\r\n                body={(rowData) => actionTemplate(\r\n                  rowData,\r\n                  globalLoading,\r\n                  downloadPDF,\r\n                  downloadXML,\r\n                  downloadCDR,\r\n                )}\r\n                header=\"Acciones\"\r\n                style={{ width: '14%' }}\r\n              />\r\n            </DataTable>\r\n            <div\r\n              className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4\"\r\n              style={{ textAlign: 'center' }}\r\n            >\r\n              <SplitButton\r\n                className=\"button button--blue\"\r\n                disabled={globalLoading}\r\n                icon=\"pi pi-file-excel\"\r\n                label=\"Exportar a Excel\"\r\n                model={items}\r\n                tooltip=\"El tiempo para generar el reporte dependera de la cantidad de comprobantes\"\r\n                tooltipOptions={{ event: 'focus' }}\r\n              />\r\n            </div>\r\n          </>\r\n        )\r\n      }\r\n      {\r\n        globalLoading && (\r\n          <ProgressSpinner\r\n            strokeWidth=\"6\"\r\n            style={{\r\n              width: '2rem',\r\n              height: '2rem',\r\n            }}\r\n          />\r\n        )\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nPurchases.propTypes = {\r\n  currentCompany: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Purchases;\r\n","// Dependencies\r\nimport CryptoJS from 'crypto-js';\r\nimport React from 'react';\r\nimport { useHistory, Link } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { isValidEmail } from '../../../utils';\r\nimport { useMessages } from '../../../hooks';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport api from '../../../utils/api';\r\nimport styles from './styles.module.css';\r\n\r\nconst Login = ({ signIn }) => {\r\n  const history = useHistory();\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const SignIn = async (credentials, actions) => {\r\n    const userInfo = { ...credentials };\r\n    userInfo.password = CryptoJS.AES.encrypt(userInfo.password, userInfo.email).toString();\r\n    const loginR = await api.User.SignIn({ userInfo });\r\n    if (loginR instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n      actions.setSubmitting(false);\r\n    } else {\r\n      switch (loginR.resCode) {\r\n        case '01':\r\n          signIn(loginR.data);\r\n          history.push('/dashboard');\r\n          break;\r\n        case '02':\r\n          showMessages('error', 'Error!', 'Contraseña incorrecta');\r\n          break;\r\n        case '03':\r\n          showMessages('error', 'Error!', 'El usuario no existe');\r\n          break;\r\n        case '04':\r\n          showMessages('error', 'Error!', 'El usuario no ah terminado su registro, revise su correo');\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n      actions.setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.email) {\r\n      errors.email = 'Campo obligatorio';\r\n    } else if (!isValidEmail(values.email)) {\r\n      errors.email = 'Correo electronico invalido';\r\n    }\r\n    if (!values.password) {\r\n      errors.password = 'Campo obligatorio';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  } = useFormik({\r\n    initialValues: { email: '', password: '' },\r\n    validate,\r\n    onSubmit: (vals, actions) => { SignIn(vals, actions); },\r\n  });\r\n\r\n  const CreateAccount = (e) => {\r\n    e.preventDefault();\r\n    history.push('/register');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className={`${styles.jumbotron} p-col-11 p-sm-9 p-md-7 p-lg-5 p-xl-4`}>\r\n        <form\r\n          className=\"form p-grid p-dir-col\"\r\n          onSubmit={handleSubmit}\r\n        >\r\n          <hgroup className=\"heading p-col-12 p-col-align-center\">\r\n            <h1 className=\"title\">Inicia sesión en Pale</h1>\r\n            <h2 className=\"subtitle\">Ingrese sus datos a continuación</h2>\r\n          </hgroup>\r\n          <div className=\"p-col-12 p-col-align-center\">\r\n            {renderMessages()}\r\n          </div>\r\n          <FormField\r\n            className=\"p-col-12 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.email && touched.email}\r\n            errorMessage={errors.email}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            keyfilter=\"email\"\r\n            label=\"Correo electronico\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={values.email}\r\n          />\r\n          <FormField\r\n            className=\"p-col-12 p-col-align-center\"\r\n            disabled={isSubmitting}\r\n            errors={errors.password && touched.password}\r\n            errorMessage={errors.password}\r\n            handleBlur={handleBlur}\r\n            handleChange={handleChange}\r\n            label=\"Contraseña\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={values.password}\r\n          />\r\n          <div className=\"p-col-6 p-xl-4 p-col-align-center\">\r\n            <Button\r\n              label=\"Iniciar sesión\"\r\n              className=\"button p-button-rounded\"\r\n              type=\"submit\"\r\n              disabled={isSubmitting}\r\n            />\r\n          </div>\r\n          {\r\n            isSubmitting && (\r\n              <div className=\"mb-15 p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n          <Link className=\"text--center p-col-align-center\" to=\"/request-reset\" style={{ pointerEvents: isSubmitting && 'none' }}>¿olvidaste tu contraseña?</Link>\r\n          <hr className=\"mb-15\" style={{ width: '100%' }} />\r\n          <div className=\"p-grid p-dir-col\">\r\n            <small className=\"text--center p-col-align-center\">¿no tienes cuenta?</small>\r\n            <div className=\"p-col-6 p-xl-4 p-col-align-center\">\r\n              <Button\r\n                className=\"p-button-secondary p-button-rounded button\"\r\n                disabled={isSubmitting}\r\n                label=\"Regístrate\"\r\n                onClick={CreateAccount}\r\n                type=\"button\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nLogin.propTypes = {\r\n  signIn: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Login;\r\n","// Dependencies\r\nimport React from 'react';\r\nimport { useFormik } from 'formik';\r\nimport { useHistory } from 'react-router-dom';\r\nimport CryptoJS from 'crypto-js';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport styles from './styles.module.css';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport { isValidEmail } from '../../../utils';\r\nimport api from '../../../utils/api';\r\nimport { useMessages } from '../../../hooks';\r\n\r\nconst Register = () => {\r\n  const history = useHistory();\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const leave = () => {\r\n    history.push('/');\r\n  };\r\n\r\n  const register = async (values, actions) => {\r\n    const userInfo = { ...values };\r\n    const userRes = await api.User.GetById(values.email);\r\n    if (userRes instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexion');\r\n      actions.setSubmitting(false);\r\n    } else if (userRes.code === '02') {\r\n      delete userInfo.confirmPassword;\r\n      userInfo.password = CryptoJS.AES.encrypt(userInfo.password, userInfo.email).toString();\r\n      const { code } = await api.UserCode.Create(userInfo);\r\n      switch (code) {\r\n        case '01':\r\n          showMessages('success', 'Muy bien!', 'Te enviaremos un mensaje para continuar con tu registro');\r\n          setTimeout(() => {\r\n            actions.setSubmitting(false);\r\n            history.push('/');\r\n          }, 3000);\r\n          break;\r\n        case '02':\r\n          showMessages('warn', 'Alerta!', 'El correo electronico ya se registro, revise su bandeja de entrada');\r\n          actions.setSubmitting(false);\r\n          break;\r\n        default:\r\n          showMessages('error', 'Error!', 'Algo ah salido mal');\r\n          actions.setSubmitting(false);\r\n          break;\r\n      }\r\n    } else {\r\n      showMessages('error', 'Error!', 'El correo ya esta registrado');\r\n      actions.setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.name) {\r\n      errors.name = 'Campo obligatorio';\r\n    }\r\n    if (!values.email) {\r\n      errors.email = 'Campo obligatorio';\r\n    } else if (!isValidEmail(values.email)) {\r\n      errors.email = 'Correo electronico invalido';\r\n    }\r\n    if (!values.password) {\r\n      errors.password = 'Campo obligatorio';\r\n    }\r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Campo obligatorio';\r\n    } else if (values.password !== values.confirmPassword) {\r\n      errors.confirmPassword = 'Las contraseñas no son iguales';\r\n    }\r\n\r\n    return errors;\r\n  };\r\n\r\n  const {\r\n    values,\r\n    errors,\r\n    touched,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n  } = useFormik({\r\n    initialValues: {\r\n      name: '',\r\n      email: '',\r\n      password: '',\r\n      confirmPassword: '',\r\n    },\r\n    validate,\r\n    onSubmit: (vals, actions) => { register(vals, actions); },\r\n  });\r\n\r\n  return (\r\n    <div className={`${styles.jumbotron} p-col-11 p-sm-9 p-md-7 p-lg-5 p-xl-4`}>\r\n      <form\r\n        className=\"form p-grid p-dir-col\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <hgroup className=\"heading p-col-11 p-col-align-center\">\r\n          <h1 className=\"title\">Solicitud</h1>\r\n          <h2 className=\"subtitle\">Ingresa tus datos personales y nos contactaremos contigo</h2>\r\n        </hgroup>\r\n        <div className=\"p-col-11 p-col-align-center\">\r\n          {renderMessages()}\r\n        </div>\r\n        <FormField\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.name && touched.name}\r\n          errorMessage={errors.name}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          label=\"Nombre completo\"\r\n          name=\"name\"\r\n          type=\"text\"\r\n          value={values.name}\r\n        />\r\n        <FormField\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.email && touched.email}\r\n          errorMessage={errors.email}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          keyfilter=\"email\"\r\n          label=\"Correo electronico\"\r\n          name=\"email\"\r\n          type=\"email\"\r\n          value={values.email}\r\n        />\r\n        <FormField\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.password && touched.password}\r\n          errorMessage={errors.password}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          label=\"Contraseña\"\r\n          name=\"password\"\r\n          type=\"password\"\r\n          value={values.password}\r\n        />\r\n        <FormField\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.confirmPassword && touched.confirmPassword}\r\n          errorMessage={errors.confirmPassword}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          label=\"Confirmar contraseña\"\r\n          name=\"confirmPassword\"\r\n          type=\"password\"\r\n          value={values.confirmPassword}\r\n        />\r\n        <div className=\"p-col-11 p-col-align-center\">\r\n          <div className=\"p-grid p-justify-between\">\r\n            <div className=\"p-col-6 p-xl-5\">\r\n              <Button\r\n                className=\"button p-button-rounded p-button-danger\"\r\n                disabled={isSubmitting}\r\n                label=\"Atras\"\r\n                onClick={leave}\r\n                type=\"button\"\r\n              />\r\n            </div>\r\n            <div className=\"p-col-6 p-xl-5\">\r\n              <Button\r\n                className=\"button p-button-rounded\"\r\n                disabled={isSubmitting}\r\n                label=\"Registrar\"\r\n                type=\"submit\"\r\n              />\r\n            </div>\r\n          </div>\r\n        </div>\r\n        {\r\n          isSubmitting && (\r\n            <div className=\"mb-15 p-col-align-center\">\r\n              <ProgressSpinner\r\n                strokeWidth=\"6\"\r\n                style={{\r\n                  width: '2rem',\r\n                  height: '2rem',\r\n                }}\r\n              />\r\n            </div>\r\n          )\r\n        }\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Register;\r\n","// Dependencies\r\nimport React, { useState } from 'react';\r\nimport { useFormik } from 'formik';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { useMessages } from '../../../hooks';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport api from '../../../utils/api';\r\nimport styles from './styles.module.css';\r\n\r\nconst CompleteRegister = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const urlParams = new window.URLSearchParams(location.search);\r\n  const [isVerified, setIsVerified] = useState(false);\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const validate = (values) => {\r\n    const errors = {};\r\n    if (!values.businessNumber) {\r\n      errors.businessNumber = 'Campo obligatorio';\r\n    }\r\n    if (!values.docNumber) {\r\n      errors.docNumber = 'Campo obligatorio';\r\n    } else if (!(values.docNumber.length === 8)) {\r\n      errors.docNumber = 'Número de documento invalido';\r\n    }\r\n    if (!values.cellphone) {\r\n      errors.cellphone = 'Campo obligatorio';\r\n    } else if (!values.cellphone.startsWith('9') || !(values.cellphone.length === 9)) {\r\n      errors.cellphone = 'Numero de celular invalido';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const verifyBN = async (businessNumber, setSubmitting) => {\r\n    if (businessNumber.length !== 11) {\r\n      showMessages('error', 'Error!', 'Número de RUC invalido');\r\n      setIsVerified(false);\r\n    } else {\r\n      const res = await api.Company.ReadById(businessNumber);\r\n      if (res.code === '01') {\r\n        showMessages('success', 'Muy bien!');\r\n        setIsVerified(true);\r\n      } else {\r\n        showMessages('error', 'Error!', 'La Empresa no esta registrada en Pale');\r\n        setIsVerified(false);\r\n      }\r\n    }\r\n    setSubmitting(false);\r\n  };\r\n\r\n  const completeSignUp = async (values, actions) => {\r\n    const obj = { ...values };\r\n    obj.email = urlParams.get('email');\r\n    obj.code = urlParams.get('userId');\r\n    const res = await api.User.CreateWithCode(obj);\r\n    if (res instanceof TypeError) {\r\n      showMessages('error', 'Error!', 'No hay conexión');\r\n      actions.setSubmitting(false);\r\n    } else {\r\n      switch (res.code) {\r\n        case '01':\r\n          showMessages('success', 'Muy bien!', 'Se han registrado los datos correctamente');\r\n          setTimeout(() => {\r\n            history.push('/');\r\n            actions.setSubmitting(false);\r\n          }, 3000);\r\n          break;\r\n        case '02':\r\n          showMessages('warn', 'Alerta!', 'Este usuario ya esta registrado');\r\n          actions.setSubmitting(false);\r\n          break;\r\n        case '03':\r\n          showMessages('error', 'Error!', 'Tu codigo de registro expiro');\r\n          actions.setSubmitting(false);\r\n          break;\r\n        default:\r\n          showMessages('error', 'Error!', 'Algo ah salido mal');\r\n          break;\r\n      }\r\n    }\r\n  };\r\n\r\n  const {\r\n    errors,\r\n    handleBlur,\r\n    handleChange,\r\n    handleSubmit,\r\n    isSubmitting,\r\n    setSubmitting,\r\n    touched,\r\n    values,\r\n  } = useFormik({\r\n    initialValues: {\r\n      businessNumber: '',\r\n      docNumber: '',\r\n      cellphone: '',\r\n    },\r\n    validate,\r\n    onSubmit: (vals, actions) => { completeSignUp(vals, actions); },\r\n  });\r\n\r\n  return (\r\n    <div className={`${styles.jumbotron} p-col-11 p-sm-9 p-md-7 p-lg-5 p-xl-4`}>\r\n      <form\r\n        className=\"form p-grid p-dir-col\"\r\n        onSubmit={handleSubmit}\r\n      >\r\n        <hgroup className=\"heading\">\r\n          <h1 className=\"title\">Completar registro</h1>\r\n        </hgroup>\r\n        <div className=\"p-col-11 p-col-align-center\">\r\n          {renderMessages()}\r\n        </div>\r\n        <FormField\r\n          buttonCN=\"p-button-warning\"\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.businessNumber && touched.businessNumber}\r\n          errorMessage={errors.businessNumber}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          handleClick={() => verifyBN(values.businessNumber, setSubmitting)}\r\n          icon=\"pi-search\"\r\n          keyfilter=\"pint\"\r\n          label=\"RUC\"\r\n          maxLength=\"11\"\r\n          name=\"businessNumber\"\r\n          type=\"input-group\"\r\n          tooltip=\"Haga click para verificar el RUC de la empresa\"\r\n          value={values.businessNumber}\r\n        />\r\n        <FormField\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.docNumber && touched.docNumber}\r\n          errorMessage={errors.docNumber}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          keyfilter=\"pint\"\r\n          label=\"DNI\"\r\n          maxLength=\"8\"\r\n          name=\"docNumber\"\r\n          type=\"text\"\r\n          value={values.docNumber}\r\n        />\r\n        <FormField\r\n          className=\"p-col-11 p-col-align-center\"\r\n          disabled={isSubmitting}\r\n          errors={errors.cellphone && touched.cellphone}\r\n          errorMessage={errors.cellphone}\r\n          handleBlur={handleBlur}\r\n          handleChange={handleChange}\r\n          keyfilter=\"pint\"\r\n          label=\"Celular\"\r\n          maxLength=\"9\"\r\n          name=\"cellphone\"\r\n          type=\"text\"\r\n          value={values.cellphone}\r\n        />\r\n        {\r\n          isSubmitting && (\r\n            <div className=\"mb-15 p-col-align-center\">\r\n              <ProgressSpinner\r\n                strokeWidth=\"6\"\r\n                style={{\r\n                  width: '2rem',\r\n                  height: '2rem',\r\n                }}\r\n              />\r\n            </div>\r\n          )\r\n        }\r\n        <div className=\"p-col-11 p-col-align-center\">\r\n          <Button\r\n            className=\"p-button-rounded button\"\r\n            disabled={!isVerified || isSubmitting}\r\n            label=\"Completar registro\"\r\n            type=\"submit\"\r\n          />\r\n        </div>\r\n        {\r\n\r\n          !isVerified && (\r\n          <span className=\"p-col-11 p-col-align-center text--center\">\r\n            <small>Primero debes verificar el Ruc para registarte</small>\r\n          </span>\r\n          )\r\n        }\r\n      </form>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CompleteRegister;\r\n","// Dependencies\r\nimport React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport { isValidEmail } from '../../../utils';\r\nimport { useMessages } from '../../../hooks';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport styles from './styles.module.css';\r\nimport api from '../../../utils/api';\r\n\r\nconst RequestResetPassword = () => {\r\n  const history = useHistory();\r\n  const [showMessages, renderMessages] = useMessages();\r\n\r\n  const fieldsValidation = (values) => {\r\n    const errors = {};\r\n    if (!values.email) {\r\n      errors.email = 'Campo obligatorio';\r\n    } else if (!isValidEmail(values.email)) {\r\n      errors.email = 'Correo electronico invalido';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const RequestReset = async (values, actions) => {\r\n    const res = await api.User.RequestReset({ email: values.email });\r\n    switch (res.code) {\r\n      case '01':\r\n      case '02':\r\n      case '03':\r\n        showMessages('success', 'Muy bien!', 'Si tienes una cuenta, te enviaremos un enlace de restablecimiento');\r\n        setTimeout(() => {\r\n          actions.setSubmitting(false);\r\n          history.push('/');\r\n        }, 3000);\r\n        break;\r\n      default:\r\n        showMessages('error', 'Error!', 'Algo ah salido mal');\r\n        actions.setSubmitting(false);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: { email: '' },\r\n    validate: (values) => fieldsValidation(values),\r\n    onSubmit: (values, actions) => { RequestReset(values, actions); },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className={`${styles.jumbotron} p-col-11 p-sm-9 p-md-7 p-lg-5 p-xl-4`}>\r\n        <form\r\n          className=\"form p-grid p-dir-col\"\r\n          onSubmit={formik.handleSubmit}\r\n        >\r\n          <hgroup className=\"heading p-col-11 p-col-align-center\">\r\n            <h1 className=\"title\">¿Olvidaste tu contraseña?</h1>\r\n            <h2 className=\"subtitle\">Le ayudaremos a restablecerlo</h2>\r\n          </hgroup>\r\n          <div className=\"p-col-11 p-col-align-center\">\r\n            {renderMessages()}\r\n          </div>\r\n          <FormField\r\n            className=\"p-col-11 p-col-align-center\"\r\n            disabled={formik.isSubmitting}\r\n            errors={formik.errors.email && formik.touched.email}\r\n            errorMessage={formik.errors.email}\r\n            handleBlur={formik.handleBlur}\r\n            handleChange={formik.handleChange}\r\n            keyfilter=\"email\"\r\n            label=\"Correo electronico\"\r\n            name=\"email\"\r\n            type=\"email\"\r\n            value={formik.values.email}\r\n          />\r\n          <div className=\"p-col-8 p-xl-6 p-col-align-center\">\r\n            <Button\r\n              label=\"Restablecer contraseña\"\r\n              className=\"button p-button-rounded\"\r\n              type=\"submit\"\r\n              disabled={formik.isSubmitting}\r\n            />\r\n          </div>\r\n          {\r\n            formik.isSubmitting && (\r\n              <div className=\"p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default RequestResetPassword;\r\n","// Dependencies\r\nimport React, { useState } from 'react';\r\nimport CryptoJS from 'crypto-js';\r\nimport { useLocation, useHistory } from 'react-router-dom';\r\nimport { useFormik } from 'formik';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { Messages } from 'primereact/messages';\r\nimport { ProgressSpinner } from 'primereact/progressspinner';\r\nimport FormField from '../../../sharedcomponents/FormField';\r\nimport api from '../../../utils/api';\r\n\r\nconst ResetPassword = () => {\r\n  const history = useHistory();\r\n  const location = useLocation();\r\n  const [messages, setMessages] = useState(new Messages());\r\n\r\n  const fieldsValidation = (values) => {\r\n    const errors = {};\r\n    if (!values.password) {\r\n      errors.password = 'Campo obligatorio';\r\n    }\r\n    if (!values.confirmPassword) {\r\n      errors.confirmPassword = 'Campo obligatorio';\r\n    } else if (values.password !== values.confirmPassword) {\r\n      errors.confirmPassword = 'Las contraseñas no son iguales';\r\n    }\r\n    return errors;\r\n  };\r\n\r\n  const showMessage = (severity, summary, detail) => {\r\n    messages.show({ severity, summary, detail });\r\n  };\r\n\r\n  const Reset = async (values, actions) => {\r\n    const aux = { ...values };\r\n    const urlParams = new window.URLSearchParams(location.search);\r\n    const email = urlParams.get('email');\r\n    delete aux.confirmPassword;\r\n    aux.password = CryptoJS.AES.encrypt(aux.password, email).toString();\r\n    const res = await api.User.ResetPassword(aux, location.search);\r\n    switch (res.code) {\r\n      case '01':\r\n        showMessage('success', 'Muy bien!', 'Se actualizaron tus datos');\r\n        setTimeout(() => {\r\n          actions.setSubmitting(false);\r\n          history.push('/');\r\n        }, 3000);\r\n        break;\r\n      default:\r\n        showMessage('error', 'Error!', 'Tu codigo de restablecimiento expiro');\r\n        setTimeout(() => {\r\n          actions.setSubmitting(false);\r\n        }, 3000);\r\n        break;\r\n    }\r\n  };\r\n\r\n  const formik = useFormik({\r\n    initialValues: {\r\n      password: '',\r\n      confirmPassword: '',\r\n    },\r\n    validate: (values) => fieldsValidation(values),\r\n    onSubmit: (values, actions) => { Reset(values, actions); },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div className=\"p-col-11 p-sm-10 p-md-8 p-lg-6 p-xl-4\">\r\n        <form\r\n          className=\"form p-grid p-dir-col p-nogutter\"\r\n          onSubmit={formik.handleSubmit}\r\n        >\r\n          <hgroup className=\"heading p-col-11 p-col-align-center\">\r\n            <h1 className=\"title\">Por favor, ingresa tu nueva contraseña</h1>\r\n          </hgroup>\r\n          <FormField\r\n            className=\"mb-15 p-col-11 p-col-align-center\"\r\n            disabled={formik.isSubmitting}\r\n            errors={formik.errors.password && formik.touched.password}\r\n            errorMessage={formik.errors.password}\r\n            handleBlur={formik.handleBlur}\r\n            handleChange={formik.handleChange}\r\n            label=\"Contraseña\"\r\n            name=\"password\"\r\n            type=\"password\"\r\n            value={formik.values.password}\r\n          />\r\n          <FormField\r\n            className=\"mb-15 p-col-11 p-col-align-center\"\r\n            disabled={formik.isSubmitting}\r\n            errors={formik.errors.confirmPassword && formik.touched.confirmPassword}\r\n            errorMessage={formik.errors.confirmPassword}\r\n            handleBlur={formik.handleBlur}\r\n            handleChange={formik.handleChange}\r\n            label=\"Confirmar contraseña\"\r\n            name=\"confirmPassword\"\r\n            type=\"password\"\r\n            value={formik.values.confirmPassword}\r\n          />\r\n          <div className=\"mb-15 p-col-10 p-xl-6 p-col-align-center\">\r\n            <Button\r\n              label=\"Establecer nueva contraseña\"\r\n              className=\"button p-button-rounded\"\r\n              type=\"submit\"\r\n              disabled={formik.isSubmitting}\r\n            />\r\n          </div>\r\n          {\r\n            formik.isSubmitting && (\r\n              <div className=\"mb-15 p-col-align-center\">\r\n                <ProgressSpinner\r\n                  strokeWidth=\"6\"\r\n                  style={{\r\n                    width: '2rem',\r\n                    height: '2rem',\r\n                  }}\r\n                />\r\n              </div>\r\n            )\r\n          }\r\n          <div className=\"p-col-11 p-col-align-center\">\r\n            <Messages ref={(el) => { setMessages(el); }} />\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ResetPassword;\r\n","// Dependencies\r\nimport React, { createContext, useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport const ScreenContext = createContext();\r\n\r\nconst Provider = ({ children }) => {\r\n  const [isMS, setIsMS] = useState(window.innerWidth <= 991);\r\n\r\n  useEffect(() => {\r\n    const onResize = () => {\r\n      if (window.innerWidth <= 991) {\r\n        setIsMS(true);\r\n      } else {\r\n        setIsMS(false);\r\n      }\r\n    };\r\n\r\n    window.onresize = onResize;\r\n  });\r\n\r\n  const value = {\r\n    isMS,\r\n  };\r\n\r\n  return (\r\n    <ScreenContext.Provider value={value}>\r\n      {children}\r\n    </ScreenContext.Provider>\r\n  );\r\n};\r\n\r\nProvider.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.element),\r\n    PropTypes.element,\r\n  ]).isRequired,\r\n};\r\n\r\nexport default {\r\n  Provider,\r\n};\r\n","// Dependencies\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport classNames from 'classnames';\r\n\r\n// Resources\r\nimport styles from './styles.module.css';\r\n\r\nconst BurgerMenu = ({ isCollapsed, collapseMenu }) => (\r\n  <div\r\n    className={classNames(\r\n      styles['burger-menu'],\r\n      {\r\n        [styles['burger-menu--open']]: isCollapsed,\r\n      },\r\n    )}\r\n    onClick={collapseMenu}\r\n    onKeyPress={collapseMenu}\r\n    role=\"button\"\r\n    tabIndex={0}\r\n  >\r\n    <span />\r\n    <span />\r\n    <span />\r\n    <span />\r\n  </div>\r\n);\r\n\r\nBurgerMenu.propTypes = {\r\n  isCollapsed: PropTypes.bool.isRequired,\r\n  collapseMenu: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default BurgerMenu;\r\n","// Dependencies\r\nimport React, { useContext } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport { ScreenContext } from '../../../../contexts/Screen';\r\nimport styles from './styles.module.css';\r\n\r\nconst MenuLink = ({\r\n  children,\r\n  className,\r\n  exact,\r\n  label,\r\n  onClick,\r\n  to,\r\n}) => {\r\n  const { isMS } = useContext(ScreenContext);\r\n\r\n  return (\r\n    <li\r\n      className={classNames(\r\n        styles['nav-item'],\r\n        {\r\n          className: className !== '',\r\n          'p-col-10 p-sm-8 p-md-6': isMS,\r\n        },\r\n      )}\r\n    >\r\n      {\r\n        children !== null\r\n          ? children\r\n          : (\r\n            <>\r\n              <NavLink\r\n                activeClassName={styles['ancor-link--active']}\r\n                exact={exact}\r\n                className={styles['ancor-link']}\r\n                onClick={onClick}\r\n                to={to}\r\n              >\r\n                {label}\r\n              </NavLink>\r\n              {\r\n                !isMS && <div />\r\n              }\r\n            </>\r\n          )\r\n      }\r\n    </li>\r\n  );\r\n};\r\n\r\nMenuLink.defaultProps = {\r\n  children: null,\r\n  className: '',\r\n  exact: false,\r\n  label: '',\r\n  onClick: null,\r\n  to: '',\r\n};\r\n\r\nMenuLink.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.element),\r\n    PropTypes.element,\r\n  ]),\r\n  className: PropTypes.string,\r\n  exact: PropTypes.bool,\r\n  label: PropTypes.string,\r\n  onClick: PropTypes.func,\r\n  to: PropTypes.string,\r\n};\r\n\r\nexport default MenuLink;\r\n","// Dependencies\r\nimport React, { useContext } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport classNames from 'classnames';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport { Button } from 'primereact/button';\r\nimport { Dropdown } from 'primereact/dropdown';\r\nimport { AuthContext } from '../../../contexts/Auth';\r\nimport { ScreenContext } from '../../../contexts/Screen';\r\nimport MenuLink from './MenuLink';\r\nimport styles from './styles.module.css';\r\n\r\nconst MenuList = ({\r\n  collapseMenu,\r\n}) => {\r\n  const {\r\n    companies,\r\n    changeCompany,\r\n    currentCompany,\r\n    signOut,\r\n  } = useContext(AuthContext);\r\n  const { isMS } = useContext(ScreenContext);\r\n  const history = useHistory();\r\n\r\n  const handleSignOut = () => {\r\n    signOut();\r\n    sessionStorage.removeItem('userJWT');\r\n    history.push('/');\r\n  };\r\n\r\n  return (\r\n    <div className={classNames(\r\n      'p-col-12 p-lg-9',\r\n      [styles.header__menu],\r\n    )}\r\n    >\r\n      <ul className={classNames(\r\n        styles['menu-list'],\r\n        'p-align-center',\r\n        { 'p-dir-col': isMS },\r\n      )}\r\n      >\r\n        {\r\n          companies.length > 0 && (\r\n            <>\r\n              <MenuLink\r\n                exact\r\n                label=\"Inicio\"\r\n                onClick={collapseMenu}\r\n                to=\"/dashboard\"\r\n              />\r\n              <MenuLink\r\n                exact\r\n                label=\"Ventas\"\r\n                onClick={collapseMenu}\r\n                to=\"/sales\"\r\n              />\r\n              <MenuLink\r\n                exact\r\n                label=\"Compras\"\r\n                onClick={collapseMenu}\r\n                to=\"/purchases\"\r\n              />\r\n            </>\r\n          )\r\n        }\r\n        <MenuLink\r\n          label=\"Configuración\"\r\n          onClick={collapseMenu}\r\n          to=\"/configuration\"\r\n        />\r\n        {\r\n          companies.length > 0 && (\r\n          <MenuLink>\r\n            <Dropdown\r\n              disabled={companies.length < 2}\r\n              name=\"company\"\r\n              onChange={(e) => {\r\n                collapseMenu();\r\n                changeCompany(e.value);\r\n              }}\r\n              options={companies}\r\n              style={{ display: 'block' }}\r\n              value={currentCompany}\r\n            />\r\n          </MenuLink>\r\n          )\r\n        }\r\n        <MenuLink>\r\n          <Button\r\n            className=\"button p-button-rounded\"\r\n            icon=\"pi pi-power-off\"\r\n            label=\"Salir\"\r\n            onClick={() => handleSignOut()}\r\n            type=\"button\"\r\n          />\r\n        </MenuLink>\r\n      </ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nMenuList.propTypes = {\r\n  collapseMenu: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default MenuList;\r\n","// Dependencies\r\nimport React, { useState, useContext } from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n// Resources\r\nimport { Sidebar } from 'primereact/sidebar';\r\nimport { ScreenContext } from '../../contexts/Screen';\r\nimport BurgerMenu from './BurgerMenu';\r\nimport MenuList from './MenuList';\r\nimport logoPale from '../../static/images/logoPale.png';\r\nimport styles from './styles.module.css';\r\n\r\nconst Header = () => {\r\n  const [isCollapsed, setIsCollapsed] = useState(false);\r\n  const { isMS } = useContext(ScreenContext);\r\n\r\n  const collapseMenu = () => {\r\n    setIsCollapsed(!isCollapsed);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <header className={`${styles.header} p-col-12`}>\r\n        <nav className=\"navbar p-grid p-nogutter p-justify-between\">\r\n          <Link\r\n            className={`${styles.navbar__brand} p-col-4 p-lg-2`}\r\n            onClick={() => {\r\n              setIsCollapsed(false);\r\n            }}\r\n            to=\"/dashboard\"\r\n          >\r\n            <img className={styles.navbar__logo} src={logoPale} alt=\"logo Pale\" />\r\n          </Link>\r\n          {\r\n            isMS ? (\r\n              <BurgerMenu\r\n                isCollapsed={isCollapsed}\r\n                collapseMenu={collapseMenu}\r\n              />\r\n            ) : (\r\n              <MenuList\r\n                collapseMenu={collapseMenu}\r\n              />\r\n            )\r\n          }\r\n        </nav>\r\n      </header>\r\n      {\r\n        isMS && (\r\n          <Sidebar\r\n            blockScroll\r\n            style={{ padding: '.5em' }}\r\n            fullScreen\r\n            onHide={() => setIsCollapsed(true)}\r\n            showCloseIcon={false}\r\n            visible={isCollapsed}\r\n          >\r\n            <nav className=\"navbar p-grid p-nogutter p-justify-between\">\r\n              <Link\r\n                className={`${styles.navbar__brand} p-col-4 p-lg-2`}\r\n                onClick={() => {\r\n                  setIsCollapsed(false);\r\n                }}\r\n                to=\"/dashboard\"\r\n              >\r\n                <img className={styles.navbar__logo} src={logoPale} alt=\"logo Pale\" />\r\n              </Link>\r\n              { isMS && (\r\n                <BurgerMenu\r\n                  isCollapsed={isCollapsed}\r\n                  collapseMenu={collapseMenu}\r\n                />\r\n              )}\r\n              <MenuList\r\n                collapseMenu={collapseMenu}\r\n              />\r\n            </nav>\r\n          </Sidebar>\r\n        )\r\n      }\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","// Dependencies\r\nimport React, { useContext } from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport { AuthContext } from '../../contexts/Auth';\r\n\r\nconst CustomRoute = ({\r\n  exact,\r\n  path,\r\n  render,\r\n}) => {\r\n  const { isAuth, currentCompany } = useContext(AuthContext);\r\n\r\n  if (isAuth) {\r\n    if (currentCompany === '') {\r\n      return <h1>Usuario inhabilitado</h1>;\r\n    }\r\n    return <Route exact={exact} path={path} render={render} />;\r\n  }\r\n  return <Redirect to=\"/\" />;\r\n};\r\n\r\nCustomRoute.propTypes = {\r\n  exact: PropTypes.bool.isRequired,\r\n  path: PropTypes.string.isRequired,\r\n  render: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default CustomRoute;\r\n","// Dependencies\r\nimport React, { useContext } from 'react';\r\nimport { Redirect, Route } from 'react-router-dom';\r\nimport PropTypes from 'prop-types';\r\nimport { AuthContext } from '../../contexts/Auth';\r\n\r\nconst LoginRoute = ({\r\n  exact,\r\n  path,\r\n  render,\r\n}) => {\r\n  const { isAuth, currentCompany } = useContext(AuthContext);\r\n\r\n  if (isAuth) {\r\n    if (currentCompany === '') {\r\n      return <Redirect to=\"/configuration\" />;\r\n    }\r\n    return <Redirect to=\"/dashboard\" />;\r\n  }\r\n  return <Route exact={exact} path={path} render={render} />;\r\n};\r\n\r\nLoginRoute.propTypes = {\r\n  exact: PropTypes.bool.isRequired,\r\n  path: PropTypes.string.isRequired,\r\n  render: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default LoginRoute;\r\n","// Dependencies\r\nimport React, { useContext } from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\n\r\n// Resources\r\nimport { AuthContext } from '../contexts/Auth';\r\n\r\nimport Dashboard from '../components/Dashboard';\r\nimport Configuration from '../components/Dashboard/Configuration';\r\nimport Sales from '../components/Dashboard/Sales';\r\nimport Purchases from '../components/Dashboard/Purchases';\r\n\r\nimport Login from '../components/User/Login';\r\nimport Register from '../components/User/Register';\r\nimport CompleteRegister from '../components/User/CompleteRegister';\r\nimport RequestResetPassword from '../components/User/RequestReset';\r\nimport ResetPassword from '../components/User/Reset';\r\n\r\nimport NotFound from '../components/NotFound';\r\nimport Header from '../components/Header';\r\nimport AuthRoute from './AuthRoute';\r\nimport CustomRoute from './CustomRoute';\r\nimport LoginRoute from './LoginRoute';\r\n\r\nimport styles from './styles.module.css';\r\n\r\nconst Routes = () => {\r\n  const {\r\n    isAuth,\r\n    currentCompany,\r\n    signIn,\r\n  } = useContext(AuthContext);\r\n\r\n  return (\r\n    <div className={`${styles.container} p-grid p-dir-col p-align-center p-justify-center`}>\r\n      {\r\n        isAuth && (\r\n          <Header />\r\n        )\r\n      }\r\n      <Switch>\r\n        <LoginRoute\r\n          exact\r\n          path=\"/\"\r\n          render={() => (<Login signIn={signIn} />)}\r\n        />\r\n        <Route exact path=\"/register\" component={Register} />\r\n        <Route exact path=\"/request-reset\" component={RequestResetPassword} />\r\n        <Route exact path=\"/reset\" component={ResetPassword} />\r\n        <Route exact path=\"/complete-register\" component={CompleteRegister} />\r\n        <CustomRoute\r\n          exact\r\n          path=\"/dashboard\"\r\n          render={() => (\r\n            <Dashboard currentCompany={currentCompany} />\r\n          )}\r\n        />\r\n        <CustomRoute\r\n          exact\r\n          path=\"/sales\"\r\n          render={() => (<Sales currentCompany={currentCompany} />)}\r\n        />\r\n        <CustomRoute\r\n          exact\r\n          path=\"/purchases\"\r\n          render={() => (<Purchases currentCompany={currentCompany} />)}\r\n        />\r\n        <AuthRoute\r\n          exact={false}\r\n          path=\"/configuration\"\r\n          render={() => (<Configuration />)}\r\n        />\r\n        <Route path=\"*\" component={NotFound} />\r\n      </Switch>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","// Dependencies\r\nimport React from 'react';\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\n// Resources\r\nimport Routes from '../../routes';\r\n\r\nconst App = () => (\r\n  <>\r\n    <BrowserRouter>\r\n      <Routes />\r\n    </BrowserRouter>\r\n  </>\r\n);\r\n\r\nexport default App;\r\n","// Dependencies\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\n// Resources\r\nimport Auth from './Auth';\r\nimport Screen from './Screen';\r\n\r\nconst Provider = ({ children }) => (\r\n  <Auth.Provider>\r\n    <Screen.Provider>\r\n      {children}\r\n    </Screen.Provider>\r\n  </Auth.Provider>\r\n);\r\n\r\nProvider.propTypes = {\r\n  children: PropTypes.oneOfType([\r\n    PropTypes.arrayOf(PropTypes.element),\r\n    PropTypes.element,\r\n  ]).isRequired,\r\n};\r\n\r\nexport default {\r\n  Provider,\r\n};\r\n","// Dependencies\r\nimport React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport 'react-app-polyfill/ie9';\r\nimport 'react-app-polyfill/stable';\r\n\r\n// Resources\r\nimport App from './components/App';\r\nimport Contexts from './contexts';\r\nimport 'primereact/resources/themes/nova-light/theme.css';\r\nimport 'primereact/resources/primereact.min.css';\r\nimport 'primeicons/primeicons.css';\r\nimport 'primeflex/primeflex.css';\r\nimport './index.css';\r\n\r\nReactDOM.render(\r\n  <Contexts.Provider>\r\n    <App />\r\n  </Contexts.Provider>,\r\n  document.getElementById('root'),\r\n);\r\n","const config = require('../config');\r\n\r\nconst BASE_URL = `${config.servicesApi}`;\r\n\r\nconst callApi = async (endpoint, options = {}) => {\r\n  const opts = options;\r\n  opts.headers = {\r\n    'Content-Type': 'application/json',\r\n    Accept: 'application/json',\r\n  };\r\n  opts.mode = 'cors';\r\n  opts.cache = 'default';\r\n  opts.credentials = 'same-origin';\r\n\r\n  const url = BASE_URL + endpoint;\r\n  const rt = await fetch(url, opts)\r\n    .then((res) => res.json())\r\n    .then((response) => response)\r\n    .catch((error) => error);\r\n  return rt;\r\n};\r\n\r\nconst api = {\r\n  Company: {\r\n    ReadAll() {\r\n      return callApi('/companies', { method: 'GET' });\r\n    },\r\n    ReadById(id) {\r\n      return callApi(`/companies/${id}`, { method: 'GET' });\r\n    },\r\n  },\r\n  Voucher: {\r\n    GetEntities(companyCode, bookCode) {\r\n      return callApi(`/vouchers/getEntities/?companyCode=${companyCode}&bookCode=${bookCode}`, { method: 'GET' });\r\n    },\r\n    GetDetailedReport(query) {\r\n      return callApi(`/vouchers/getDetailedReport?${query}`, { method: 'GET' });\r\n    },\r\n    GetResumedReport(query) {\r\n      return callApi(`/vouchers/getResumedReport?${query}`, { method: 'GET' });\r\n    },\r\n    GetSeriesNumbers(companyCode, bookCode) {\r\n      return callApi(`/vouchers/getSeriesNumbers/?companyCode=${companyCode}&bookCode=${bookCode}`, { method: 'GET' });\r\n    },\r\n    ReadMany(query) {\r\n      return callApi(`/vouchers/?${query}`, { method: 'GET' });\r\n    },\r\n    ReadReport(id) {\r\n      return callApi(`/vouchers/getReport/${id}`, { method: 'GET' });\r\n    },\r\n  },\r\n  User: {\r\n    AddCompany(object) {\r\n      return callApi('/users/addCompany', { method: 'PUT', body: JSON.stringify(object) });\r\n    },\r\n    Create(user) {\r\n      return callApi('/users', { method: 'POST', body: JSON.stringify(user) });\r\n    },\r\n    CreateWithCode(user) {\r\n      return callApi('/users/withCode', { method: 'POST', body: JSON.stringify(user) });\r\n    },\r\n    Delete(userId) {\r\n      return callApi(`/users/${userId}`, { method: 'DELETE' });\r\n    },\r\n    GetAll() {\r\n      return callApi('/users', { method: 'GET' });\r\n    },\r\n    GetById(userId) {\r\n      return callApi(`/users/${userId}`, { method: 'GET' });\r\n    },\r\n    GetCompanies(userId) {\r\n      return callApi(`/users/getCompanies?userId=${userId}`, { method: 'GET' });\r\n    },\r\n    SignIn(credentials) {\r\n      return callApi('/users/signin', { method: 'POST', body: JSON.stringify(credentials) });\r\n    },\r\n    // SendMail(object) {\r\n    //   return callApi('/users/sendmail', { method: 'POST', body: JSON.stringify(object) });\r\n    // },\r\n    RequestReset(object) {\r\n      return callApi('/users/requestResetPassword', { method: 'POST', body: JSON.stringify(object) });\r\n    },\r\n    ResetPassword(object, query) {\r\n      return callApi(`/users/resetPassword${query}`, { method: 'POST', body: JSON.stringify(object) });\r\n    },\r\n    UpdateUser(object) {\r\n      return callApi('/users/', { method: 'PUT', body: JSON.stringify(object) });\r\n    },\r\n    VerifyEmail(object) {\r\n      return callApi('/users/verifyEmail', { method: 'POST', body: JSON.stringify(object) });\r\n    },\r\n  },\r\n  UserCode: {\r\n    Create(userCode) {\r\n      return callApi('/userCodes', { method: 'POST', body: JSON.stringify(userCode) });\r\n    },\r\n  },\r\n  VoucherTypes: {\r\n    GetAll() {\r\n      return callApi('/voucherTypes', { method: 'GET' });\r\n    },\r\n  },\r\n};\r\n\r\nexport default api;\r\n"],"sourceRoot":""}